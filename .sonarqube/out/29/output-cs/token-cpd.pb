Š
mC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\ItemsController.cs
	namespace		 	
LeagueOfItems		
 
.		 
Controllers		 #
{

 
[ 
ApiController 
] 
[ 
Route 
( 	
$str	 
) 
] 
public 
class	 
ItemsController 
:  
ControllerBase! /
{ 
private 
readonly 
ILogger 
< 
ItemsController ,
>, -
_logger. 5
;5 6
private 
ItemContext 
_context  
;  !
public 

ItemsController 
( 
ILogger "
<" #
ItemsController# 2
>2 3
logger4 :
,: ;
ItemContext< G
contextH O
)O P
{ 
_logger 
= 
logger 
; 
_context 
= 
context 
; 
} 
[ 
HttpGet 
] 
public 

List 
< 
Item 
> 
Get 
( 
) 
{ 
return 
_context 
. 
Items 
. 
ToList "
(" #
)# $
;$ %
} 
} 
} ï
lC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\RiotController.cs
	namespace 	
LeagueOfItems
 
. 
Controllers #
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
RiotController 
:  !
ControllerBase" 0
{ 
private 
readonly 
ILogger  
<  !
RiotController! /
>/ 0
_logger1 8
;8 9
private 
ItemContext 
_context $
;$ %
private 
readonly 
IRiotDataService )
_riotService* 6
;6 7
public 
RiotController 
( 
ILogger %
<% &
RiotController& 4
>4 5
logger6 <
,< =
ItemContext> I
contextJ Q
,Q R
IRiotDataServiceS c
riotServiced o
)o p
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_riotService 
= 
riotService &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
Get 
( 
) 
{ 	
var 
items 
= 
await 
_riotService *
.* +
GetItems+ 3
(3 4
)4 5
;5 6
await   
_riotService   
.   
	SaveItems   (
(  ( )
items  ) .
)  . /
;  / 0
var"" 
	champions"" 
="" 
await"" !
_riotService""" .
."". /
GetChampions""/ ;
(""; <
)""< =
;""= >
await## 
_riotService## 
.## 
SaveChampions## ,
(##, -
	champions##- 6
)##6 7
;##7 8
}$$ 	
}%% 
}&& Ó
kC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\UggController.cs
	namespace 	
LeagueOfItems
 
. 
Controllers #
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UggController 
:  
ControllerBase! /
{ 
private 
readonly 
ILogger  
<  !
UggController! .
>. /
_logger0 7
;7 8
private 
ItemContext 
_context $
;$ %
private 
readonly 
IUggDataService (
_uggService) 4
;4 5
public 
UggController 
( 
ILogger $
<$ %
UggController% 2
>2 3
logger4 :
,: ;
ItemContext< G
contextH O
,O P
IUggDataServiceQ `

uggServicea k
)k l
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_uggService 
= 

uggService $
;$ %
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
Get 
( 
) 
{ 	
await 
_uggService 
. 
SaveForAllChampions 1
(1 2
)2 3
;3 4
}   	
}!! 
}"" ä
pC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210315141539_Init.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
Init 
: 
	Migration  )
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
trueH L
)L M
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
Id8 :
): ;
;; <
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
} 	
} 
} ¶7
vC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210315152653_Riot-Items.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
	RiotItems "
:# $
	Migration% .
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 
,

 
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
,  
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str #
,# $
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str !
,! "
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable   
:   
true   
)   
;    
migrationBuilder"" 
."" 
CreateTable"" (
(""( )
name## 
:## 
$str##  
,##  !
columns$$ 
:$$ 
table$$ 
=>$$ !
new$$" %
{%% 
Id&& 
=&& 
table&& 
.&& 
Column&& %
<&&% &
int&&& )
>&&) *
(&&* +
type&&+ /
:&&/ 0
$str&&1 :
,&&: ;
nullable&&< D
:&&D E
false&&F K
)&&K L
.'' 

Annotation'' #
(''# $
$str''$ :
,'': ;
true''< @
)''@ A
,''A B
ItemId(( 
=(( 
table(( "
.((" #
Column((# )
<(() *
int((* -
>((- .
(((. /
type((/ 3
:((3 4
$str((5 >
,((> ?
nullable((@ H
:((H I
false((J O
)((O P
,((P Q
Base)) 
=)) 
table))  
.))  !
Column))! '
<))' (
int))( +
>))+ ,
()), -
type))- 1
:))1 2
$str))3 <
,))< =
nullable))> F
:))F G
false))H M
)))M N
,))N O
Total** 
=** 
table** !
.**! "
Column**" (
<**( )
int**) ,
>**, -
(**- .
type**. 2
:**2 3
$str**4 =
,**= >
nullable**? G
:**G H
false**I N
)**N O
,**O P
Sell++ 
=++ 
table++  
.++  !
Column++! '
<++' (
int++( +
>+++ ,
(++, -
type++- 1
:++1 2
$str++3 <
,++< =
nullable++> F
:++F G
false++H M
)++M N
,++N O
Purchasable,, 
=,,  !
table,," '
.,,' (
Column,,( .
<,,. /
bool,,/ 3
>,,3 4
(,,4 5
type,,5 9
:,,9 :
$str,,; D
,,,D E
nullable,,F N
:,,N O
false,,P U
),,U V
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% 2
,002 3
x004 5
=>006 8
x009 :
.00: ;
Id00; =
)00= >
;00> ?
table11 
.11 

ForeignKey11 $
(11$ %
name22 
:22 
$str22 8
,228 9
column33 
:33 
x33  !
=>33" $
x33% &
.33& '
ItemId33' -
,33- .
principalTable44 &
:44& '
$str44( /
,44/ 0
principalColumn55 '
:55' (
$str55) -
,55- .
onDelete66  
:66  !
ReferentialAction66" 3
.663 4
Cascade664 ;
)66; <
;66< =
}77 
)77 
;77 
migrationBuilder99 
.99 
CreateIndex99 (
(99( )
name:: 
::: 
$str:: *
,::* +
table;; 
:;; 
$str;; !
,;;! "
column<< 
:<< 
$str<<  
,<<  !
unique== 
:== 
true== 
)== 
;== 
}>> 	
	protected@@ 
override@@ 
void@@ 
Down@@  $
(@@$ %
MigrationBuilder@@% 5
migrationBuilder@@6 F
)@@F G
{AA 	
migrationBuilderBB 
.BB 
	DropTableBB &
(BB& '
nameCC 
:CC 
$strCC  
)CC  !
;CC! "
migrationBuilderEE 
.EE 

DropColumnEE '
(EE' (
nameFF 
:FF 
$strFF 
,FF 
tableGG 
:GG 
$strGG 
)GG 
;GG  
migrationBuilderII 
.II 

DropColumnII '
(II' (
nameJJ 
:JJ 
$strJJ 
,JJ 
tableKK 
:KK 
$strKK 
)KK 
;KK  
migrationBuilderMM 
.MM 

DropColumnMM '
(MM' (
nameNN 
:NN 
$strNN #
,NN# $
tableOO 
:OO 
$strOO 
)OO 
;OO  
migrationBuilderQQ 
.QQ 

DropColumnQQ '
(QQ' (
nameRR 
:RR 
$strRR !
,RR! "
tableSS 
:SS 
$strSS 
)SS 
;SS  
}TT 	
}UU 
}VV Ë{
tC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210316164217_ItemData.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
ItemData !
:" #
	Migration$ -
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	DropTable		 &
(		& '
name

 
:

 
$str

  
)

  !
;

! "
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
trueH L
)L M
,M N
Title 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
Blurb 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
RiotId 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 >
,> ?
nullable@ H
:H I
trueJ N
)N O
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
Id< >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
ItemId   
=   
table   "
.  " #
Column  # )
<  ) *
int  * -
>  - .
(  . /
type  / 3
:  3 4
$str  5 >
,  > ?
nullable  @ H
:  H I
false  J O
)  O P
,  P Q

ChampionId!! 
=!!  
table!!! &
.!!& '
Column!!' -
<!!- .
int!!. 1
>!!1 2
(!!2 3
type!!3 7
:!!7 8
$str!!9 B
,!!B C
nullable!!D L
:!!L M
false!!N S
)!!S T
,!!T U
Region"" 
="" 
table"" "
.""" #
Column""# )
<"") *
int""* -
>""- .
("". /
type""/ 3
:""3 4
$str""5 >
,""> ?
nullable""@ H
:""H I
false""J O
)""O P
,""P Q
Rank## 
=## 
table##  
.##  !
Column##! '
<##' (
int##( +
>##+ ,
(##, -
type##- 1
:##1 2
$str##3 <
,##< =
nullable##> F
:##F G
false##H M
)##M N
,##N O
Role$$ 
=$$ 
table$$  
.$$  !
Column$$! '
<$$' (
int$$( +
>$$+ ,
($$, -
type$$- 1
:$$1 2
$str$$3 <
,$$< =
nullable$$> F
:$$F G
false$$H M
)$$M N
,$$N O
Order%% 
=%% 
table%% !
.%%! "
Column%%" (
<%%( )
int%%) ,
>%%, -
(%%- .
type%%. 2
:%%2 3
$str%%4 =
,%%= >
nullable%%? G
:%%G H
false%%I N
)%%N O
,%%O P
Wins&& 
=&& 
table&&  
.&&  !
Column&&! '
<&&' (
int&&( +
>&&+ ,
(&&, -
type&&- 1
:&&1 2
$str&&3 <
,&&< =
nullable&&> F
:&&F G
false&&H M
)&&M N
,&&N O
Matches'' 
='' 
table'' #
.''# $
Column''$ *
<''* +
int''+ .
>''. /
(''/ 0
type''0 4
:''4 5
$str''6 ?
,''? @
nullable''A I
:''I J
false''K P
)''P Q
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 2
,++2 3
x++4 5
=>++6 8
new++9 <
{++= >
x++? @
.++@ A
ItemId++A G
,++G H
x++I J
.++J K

ChampionId++K U
,++U V
x++W X
.++X Y
Rank++Y ]
,++] ^
x++_ `
.++` a
Order++a f
,++f g
x++h i
.++i j
Region++j p
,++p q
x++r s
.++s t
Role++t x
}++y z
)++z {
;++{ |
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateTable.. (
(..( )
name// 
:// 
$str// &
,//& '
columns00 
:00 
table00 
=>00 !
new00" %
{11 
Id22 
=22 
table22 
.22 
Column22 %
<22% &
int22& )
>22) *
(22* +
type22+ /
:22/ 0
$str221 :
,22: ;
nullable22< D
:22D E
false22F K
)22K L
.33 

Annotation33 #
(33# $
$str33$ :
,33: ;
true33< @
)33@ A
,33A B

ChampionId44 
=44  
table44! &
.44& '
Column44' -
<44- .
int44. 1
>441 2
(442 3
type443 7
:447 8
$str449 B
,44B C
nullable44D L
:44L M
false44N S
)44S T
,44T U
Region55 
=55 
table55 "
.55" #
Column55# )
<55) *
int55* -
>55- .
(55. /
type55/ 3
:553 4
$str555 >
,55> ?
nullable55@ H
:55H I
false55J O
)55O P
,55P Q
Rank66 
=66 
table66  
.66  !
Column66! '
<66' (
int66( +
>66+ ,
(66, -
type66- 1
:661 2
$str663 <
,66< =
nullable66> F
:66F G
false66H M
)66M N
,66N O
Role77 
=77 
table77  
.77  !
Column77! '
<77' (
int77( +
>77+ ,
(77, -
type77- 1
:771 2
$str773 <
,77< =
nullable77> F
:77F G
false77H M
)77M N
,77N O
Wins88 
=88 
table88  
.88  !
Column88! '
<88' (
int88( +
>88+ ,
(88, -
type88- 1
:881 2
$str883 <
,88< =
nullable88> F
:88F G
false88H M
)88M N
,88N O
Matches99 
=99 
table99 #
.99# $
Column99$ *
<99* +
int99+ .
>99. /
(99/ 0
type990 4
:994 5
$str996 ?
,99? @
nullable99A I
:99I J
false99K P
)99P Q
}:: 
,:: 
constraints;; 
:;; 
table;; "
=>;;# %
{<< 
table== 
.== 

PrimaryKey== $
(==$ %
$str==% 8
,==8 9
x==: ;
=>==< >
x==? @
.==@ A
Id==A C
)==C D
;==D E
}>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
CreateTable@@ (
(@@( )
nameAA 
:AA 
$strAA '
,AA' (
columnsBB 
:BB 
tableBB 
=>BB !
newBB" %
{CC 
StarterSetIdDD  
=DD! "
tableDD# (
.DD( )
ColumnDD) /
<DD/ 0
intDD0 3
>DD3 4
(DD4 5
typeDD5 9
:DD9 :
$strDD; D
,DDD E
nullableDDF N
:DDN O
falseDDP U
)DDU V
,DDV W
ItemIdEE 
=EE 
tableEE "
.EE" #
ColumnEE# )
<EE) *
intEE* -
>EE- .
(EE. /
typeEE/ 3
:EE3 4
$strEE5 >
,EE> ?
nullableEE@ H
:EEH I
falseEEJ O
)EEO P
,EEP Q
QuantityFF 
=FF 
tableFF $
.FF$ %
ColumnFF% +
<FF+ ,
intFF, /
>FF/ 0
(FF0 1
typeFF1 5
:FF5 6
$strFF7 @
,FF@ A
nullableFFB J
:FFJ K
falseFFL Q
)FFQ R
}GG 
,GG 
constraintsHH 
:HH 
tableHH "
=>HH# %
{II 
tableJJ 
.JJ 

PrimaryKeyJJ $
(JJ$ %
$strJJ% 9
,JJ9 :
xJJ; <
=>JJ= ?
newJJ@ C
{JJD E
xJJF G
.JJG H
StarterSetIdJJH T
,JJT U
xJJV W
.JJW X
ItemIdJJX ^
}JJ_ `
)JJ` a
;JJa b
tableKK 
.KK 

ForeignKeyKK $
(KK$ %
nameLL 
:LL 
$strLL N
,LLN O
columnMM 
:MM 
xMM  !
=>MM" $
xMM% &
.MM& '
StarterSetIdMM' 3
,MM3 4
principalTableNN &
:NN& '
$strNN( 8
,NN8 9
principalColumnOO '
:OO' (
$strOO) -
,OO- .
onDeletePP  
:PP  !
ReferentialActionPP" 3
.PP3 4
CascadePP4 ;
)PP; <
;PP< =
}QQ 
)QQ 
;QQ 
}RR 	
	protectedTT 
overrideTT 
voidTT 
DownTT  $
(TT$ %
MigrationBuilderTT% 5
migrationBuilderTT6 F
)TTF G
{UU 	
migrationBuilderVV 
.VV 
	DropTableVV &
(VV& '
nameWW 
:WW 
$strWW !
)WW! "
;WW" #
migrationBuilderYY 
.YY 
	DropTableYY &
(YY& '
nameZZ 
:ZZ 
$strZZ  
)ZZ  !
;ZZ! "
migrationBuilder\\ 
.\\ 
	DropTable\\ &
(\\& '
name]] 
:]] 
$str]] '
)]]' (
;]]( )
migrationBuilder__ 
.__ 
	DropTable__ &
(__& '
name`` 
:`` 
$str`` &
)``& '
;``' (
migrationBuilderbb 
.bb 
CreateTablebb (
(bb( )
namecc 
:cc 
$strcc  
,cc  !
columnsdd 
:dd 
tabledd 
=>dd !
newdd" %
{ee 
Idff 
=ff 
tableff 
.ff 
Columnff %
<ff% &
intff& )
>ff) *
(ff* +
typeff+ /
:ff/ 0
$strff1 :
,ff: ;
nullableff< D
:ffD E
falseffF K
)ffK L
.gg 

Annotationgg #
(gg# $
$strgg$ :
,gg: ;
truegg< @
)gg@ A
,ggA B
Basehh 
=hh 
tablehh  
.hh  !
Columnhh! '
<hh' (
inthh( +
>hh+ ,
(hh, -
typehh- 1
:hh1 2
$strhh3 <
,hh< =
nullablehh> F
:hhF G
falsehhH M
)hhM N
,hhN O
ItemIdii 
=ii 
tableii "
.ii" #
Columnii# )
<ii) *
intii* -
>ii- .
(ii. /
typeii/ 3
:ii3 4
$strii5 >
,ii> ?
nullableii@ H
:iiH I
falseiiJ O
)iiO P
,iiP Q
Purchasablejj 
=jj  !
tablejj" '
.jj' (
Columnjj( .
<jj. /
booljj/ 3
>jj3 4
(jj4 5
typejj5 9
:jj9 :
$strjj; D
,jjD E
nullablejjF N
:jjN O
falsejjP U
)jjU V
,jjV W
Sellkk 
=kk 
tablekk  
.kk  !
Columnkk! '
<kk' (
intkk( +
>kk+ ,
(kk, -
typekk- 1
:kk1 2
$strkk3 <
,kk< =
nullablekk> F
:kkF G
falsekkH M
)kkM N
,kkN O
Totalll 
=ll 
tablell !
.ll! "
Columnll" (
<ll( )
intll) ,
>ll, -
(ll- .
typell. 2
:ll2 3
$strll4 =
,ll= >
nullablell? G
:llG H
falsellI N
)llN O
}mm 
,mm 
constraintsnn 
:nn 
tablenn "
=>nn# %
{oo 
tablepp 
.pp 

PrimaryKeypp $
(pp$ %
$strpp% 2
,pp2 3
xpp4 5
=>pp6 8
xpp9 :
.pp: ;
Idpp; =
)pp= >
;pp> ?
tableqq 
.qq 

ForeignKeyqq $
(qq$ %
namerr 
:rr 
$strrr 8
,rr8 9
columnss 
:ss 
xss  !
=>ss" $
xss% &
.ss& '
ItemIdss' -
,ss- .
principalTablett &
:tt& '
$strtt( /
,tt/ 0
principalColumnuu '
:uu' (
$struu) -
,uu- .
onDeletevv  
:vv  !
ReferentialActionvv" 3
.vv3 4
Cascadevv4 ;
)vv; <
;vv< =
}ww 
)ww 
;ww 
migrationBuilderyy 
.yy 
CreateIndexyy (
(yy( )
namezz 
:zz 
$strzz *
,zz* +
table{{ 
:{{ 
$str{{ !
,{{! "
column|| 
:|| 
$str||  
,||  !
unique}} 
:}} 
true}} 
)}} 
;}} 
}~~ 	
} 
}€€ ¸
aC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Champion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public		 

class		 
Champion		 
{

 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Blurb 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
RiotId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
static 
Champion 
FromRiotChampion /
(/ 0
RiotChampion0 <
riotChampion= I
)I J
{ 	
return 
new 
( 
) 
{ 
Id 
= 
int 
. 
Parse 
( 
riotChampion +
.+ ,
Key, /
)/ 0
,0 1
Name 
= 
riotChampion #
.# $
Name$ (
,( )
Title 
= 
riotChampion $
.$ %
Title% *
,* +
Blurb 
= 
riotChampion $
.$ %
Blurb% *
,* +
RiotId 
= 
riotChampion %
.% &
Id& (
} 
; 
} 	
} 
} ”(
]C:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Item.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 
class	 
Item 
{ 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
public		 

string		 
Name		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 

string

 
Description

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 

string 
Colloq 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
	Plaintext 
{ 
get !
;! "
set# &
;& '
}( )
[ 
	NotMapped 
] 
public 

List 
< 
string 
> 
From 
{ 
get "
;" #
set$ '
;' (
}) *
[ 
	NotMapped 
] 
public 

	ItemImage 
Image 
{ 
get  
;  !
set" %
;% &
}' (
[ 
	NotMapped 
] 
public 

ItemGold 
Gold 
{ 
get 
; 
set  #
;# $
}% &
[ 
	NotMapped 
] 
public 

List 
< 
string 
> 
Tags 
{ 
get "
;" #
set$ '
;' (
}) *
[ 
	NotMapped 
] 
public 


Dictionary 
< 
int 
, 
bool 
>  
Maps! %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 
	NotMapped 
] 
public 


Dictionary 
< 
string 
, 
float #
># $
Stats% *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
[ 
	NotMapped 
] 
public 


Dictionary 
< 
string 
, 
string $
>$ %
Effect& ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

int 
Depth 
{ 
get 
; 
set 
;  
}! "
} 
public 
class	 
	ItemImage 
{ 
public   

string   
Full   
{   
get   
;   
set   !
;  ! "
}  # $
public!! 

string!! 
Sprite!! 
{!! 
get!! 
;!! 
set!!  #
;!!# $
}!!% &
public"" 

string"" 
Group"" 
{"" 
get"" 
;"" 
set"" "
;""" #
}""$ %
public## 

int## 
X## 
{## 
get## 
;## 
set## 
;## 
}## 
public$$ 

int$$ 
Y$$ 
{$$ 
get$$ 
;$$ 
set$$ 
;$$ 
}$$ 
public%% 

int%% 
W%% 
{%% 
get%% 
;%% 
set%% 
;%% 
}%% 
public&& 

int&& 
H&& 
{&& 
get&& 
;&& 
set&& 
;&& 
}&& 
}'' 
public)) 
class))	 
ItemGold)) 
{** 
public++ 

int++ 
Id++ 
{++ 
get++ 
;++ 
set++ 
;++ 
}++ 
public,, 

int,, 
ItemId,, 
{,, 
get,, 
;,, 
set,,  
;,,  !
},," #
public-- 

int-- 
Base-- 
{-- 
get-- 
;-- 
set-- 
;-- 
}--  !
public.. 

int.. 
Total.. 
{.. 
get.. 
;.. 
set.. 
;..  
}..! "
public// 

int// 
Sell// 
{// 
get// 
;// 
set// 
;// 
}//  !
public00 

bool00 
Purchasable00 
{00 
get00 !
;00! "
set00# &
;00& '
}00( )
}11 
}22 ¡
dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\ItemContext.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
ItemContext 
: 
	DbContext (
{ 
public 
ItemContext 
( 
DbContextOptions +
<+ ,
ItemContext, 7
>7 8
options9 @
)@ A
:B C
baseD H
(H I
optionsI P
)P Q
{		 	
}

 	
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
optionsBuilder 
. 
	UseSqlite $
($ %
$str% 7
)7 8
;8 9
} 	
public 
DbSet 
< 
Item 
> 
Items  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Champion 
> 
	Champions (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
ItemData 
> 
ItemData '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
StarterSetData #
># $
StarterSetData% 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
StarterSetItem #
># $
StarterSetItems% 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
ItemData  (
>( )
() *
)* +
. 
HasKey 
( 
i 
=> 
new  
{! "
i" #
.# $
ItemId$ *
,* +
i, -
.- .

ChampionId. 8
,8 9
i: ;
.; <
Rank< @
,@ A
iB C
.C D
OrderD I
,I J
iK L
.L M
RegionM S
,S T
iU V
.V W
RoleW [
}[ \
)] ^
;^ _
modelBuilder 
. 
Entity 
<  
StarterSetData  .
>. /
(/ 0
)0 1
. 
HasMany 
( 
p 
=> 
p 
.  
Items  %
)% &
.   
WithOne   
(   
b   
=>   
b   
.    

StarterSet    *
)  * +
.!! 

IsRequired!! 
(!! 
)!! 
;!! 
modelBuilder## 
.## 
Entity## 
<##  
StarterSetItem##  .
>##. /
(##/ 0
)##0 1
.$$ 
HasKey$$ 
($$ 
i$$ 
=>$$ 
new$$  
{$$! "
i$$" #
.$$# $
StarterSetId$$$ 0
,$$0 1
i$$2 3
.$$3 4
ItemId$$4 :
}$$: ;
)$$; <
;$$< =
}%% 	
}&& 
}'' ï
aC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\ItemData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
ItemData 
{ 
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public		 
int		 

ChampionId		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
	UggRegion

 
Region

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
UggRank 
Rank 
{ 
get !
;! "
set# &
;& '
}( )
public 
UggRole 
Role 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Order 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ¢8
jC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotChampion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{ 
public 

class 
RiotChampion 
{ 
public 
string 
Version 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public		 
string		 
Key		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Blurb 
{ 
get !
;! "
set# &
;& '
}( )
public 
ChampionInfo 
Info  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
ChampionImage 
Image "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
List 
< 
string 
> 
Tags  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Partype 
{ 
get  #
;# $
set% (
;( )
}* +
public 
ChampionStats 
Stats "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
public 

class 
ChampionInfo 
{ 
public 
int 
Attack 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Defense 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Magic 
{ 
get 
; 
set  #
;# $
}% &
public 
int 

Difficulty 
{ 
get  #
;# $
set% (
;( )
}* +
} 
public 

class 
ChampionImage 
{ 
public 
string 
Full 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Sprite 
{ 
get "
;" #
set$ '
;' (
}) *
public   
string   
Group   
{   
get   !
;  ! "
set  # &
;  & '
}  ( )
public!! 
int!! 
X!! 
{!! 
get!! 
;!! 
set!! 
;!!  
}!!! "
public"" 
int"" 
Y"" 
{"" 
get"" 
;"" 
set"" 
;""  
}""! "
public## 
int## 
W## 
{## 
get## 
;## 
set## 
;##  
}##! "
public$$ 
int$$ 
H$$ 
{$$ 
get$$ 
;$$ 
set$$ 
;$$  
}$$! "
}%% 
public'' 

class'' 
ChampionStats'' 
{(( 
public)) 
double)) 
Hp)) 
{)) 
get)) 
;)) 
set))  #
;))# $
}))% &
public** 
double** 

Hpperlevel**  
{**! "
get**# &
;**& '
set**( +
;**+ ,
}**- .
public++ 
double++ 
Mp++ 
{++ 
get++ 
;++ 
set++  #
;++# $
}++% &
public,, 
double,, 

Mpperlevel,,  
{,,! "
get,,# &
;,,& '
set,,( +
;,,+ ,
},,- .
public-- 
double-- 
	Movespeed-- 
{--  !
get--" %
;--% &
set--' *
;--* +
}--, -
public.. 
double.. 
Armor.. 
{.. 
get.. !
;..! "
set..# &
;..& '
}..( )
public// 
double// 
Armorperlevel// #
{//$ %
get//& )
;//) *
set//+ .
;//. /
}//0 1
public00 
double00 

Spellblock00  
{00! "
get00# &
;00& '
set00( +
;00+ ,
}00- .
public11 
double11 
Spellblockperlevel11 (
{11) *
get11+ .
;11. /
set110 3
;113 4
}115 6
public22 
double22 
Attackrange22 !
{22" #
get22$ '
;22' (
set22) ,
;22, -
}22. /
public33 
double33 
Hpregen33 
{33 
get33  #
;33# $
set33% (
;33( )
}33* +
public44 
double44 
Hpregenperlevel44 %
{44& '
get44( +
;44+ ,
set44- 0
;440 1
}442 3
public55 
double55 
Mpregen55 
{55 
get55  #
;55# $
set55% (
;55( )
}55* +
public66 
double66 
Mpregenperlevel66 %
{66& '
get66( +
;66+ ,
set66- 0
;660 1
}662 3
public77 
double77 
Crit77 
{77 
get77  
;77  !
set77" %
;77% &
}77' (
public88 
double88 
Critperlevel88 "
{88# $
get88% (
;88( )
set88* -
;88- .
}88/ 0
public99 
double99 
Attackdamage99 "
{99# $
get99% (
;99( )
set99* -
;99- .
}99/ 0
public:: 
double::  
Attackdamageperlevel:: *
{::+ ,
get::- 0
;::0 1
set::2 5
;::5 6
}::7 8
public;; 
double;; 
Attackspeedperlevel;; )
{;;* +
get;;, /
;;;/ 0
set;;1 4
;;;4 5
};;6 7
public<< 
double<< 
Attackspeed<< !
{<<" #
get<<$ '
;<<' (
set<<) ,
;<<, -
}<<. /
}== 
}>> ­
rC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotChampionResponse.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{ 
public 

class  
RiotChampionResponse %
{ 
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Format 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
string		 
Version		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 

Dictionary

 
<

 
string

  
,

  !
RiotChampion

" .
>

. /
Data

0 4
{

5 6
get

7 :
;

: ;
set

< ?
;

? @
}

A B
} 
} ¹.
nC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotItemResponse.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{$ %
public 

class 
RiotItemResponse !
{ 
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Version 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
Basic		 
Basic		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 

Dictionary

 
<

 
int

 
,

 
Item

 #
>

# $
Data

% )
{

* +
get

, /
;

/ 0
set

1 4
;

4 5
}

6 7
public 
List 
< 
Group 
> 
Groups !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
List 
< 
Tree 
> 
Tree 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
public 

class 
Basic 
{ 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
Rune 
Rune 
{ 
get 
; 
set  #
;# $
}% &
public 
ItemGold 
ItemGold  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Group 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Colloq 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Plaintext 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 
Consumed 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Stacks 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Depth 
{ 
get 
; 
set  #
;# $
}% &
public 
bool 
ConsumeOnFull !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
List 
< 
object 
> 
From  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
List 
< 
object 
> 
Into  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
SpecialRecipe  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
InStore 
{ 
get !
;! "
set# &
;& '
}( )
public   
bool   
HideFromAll   
{    !
get  " %
;  % &
set  ' *
;  * +
}  , -
public!! 
string!! 
RequiredChampion!! &
{!!' (
get!!) ,
;!!, -
set!!. 1
;!!1 2
}!!3 4
public"" 
string"" 
RequiredAlly"" "
{""# $
get""% (
;""( )
set""* -
;""- .
}""/ 0
public## 

Dictionary## 
<## 
string##  
,##  !
float##" '
>##' (
Stats##) .
{##/ 0
get##1 4
;##4 5
set##6 9
;##9 :
}##; <
public$$ 
List$$ 
<$$ 
object$$ 
>$$ 
Tags$$  
{$$! "
get$$# &
;$$& '
set$$( +
;$$+ ,
}$$- .
public%% 

Dictionary%% 
<%% 
int%% 
,%% 
bool%% #
>%%# $
Maps%%% )
{%%* +
get%%, /
;%%/ 0
set%%1 4
;%%4 5
}%%6 7
}&& 
public(( 

class(( 
Tree(( 
{)) 
public** 
string** 
Header** 
{** 
get** "
;**" #
set**$ '
;**' (
}**) *
public++ 
List++ 
<++ 
string++ 
>++ 
Tags++  
{++! "
get++# &
;++& '
set++( +
;+++ ,
}++- .
},, 
public.. 

class.. 
Group.. 
{// 
public00 
string00 
Id00 
{00 
get00 
;00 
set00  #
;00# $
}00% &
public11 
string11 
MaxGroupOwnable11 %
{11& '
get11( +
;11+ ,
set11- 0
;110 1
}112 3
}22 
}33 ê
]C:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Rune.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
Rune 
{ 
public 
bool 
Isrune 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Tier 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
} 
}

 ²
gC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\StarterSetData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
StarterSetData 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
List		 
<		 
StarterSetItem		 "
>		" #
Items		$ )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
public

 
int

 

ChampionId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
	UggRegion 
Region 
{  !
get" %
;% &
set' *
;* +
}, -
public 
UggRank 
Rank 
{ 
get !
;! "
set# &
;& '
}( )
public 
UggRole 
Role 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ª
gC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\StarterSetItem.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
StarterSetItem 
{ 
public 
int 
StarterSetId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
StarterSetData 

StarterSet (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Quantity 
{ 
get !
;! "
set# &
;& '
}( )
}		 
}

 ™
hC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggItemData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggItemData 
{ 
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
}		 –	
mC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggItemTableData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggItemTableData !
{ 
public 
int 

ChampionId 
{ 
get  #
;# $
set% (
;( )
}* +
public		 

Dictionary		 
<		 
	UggRegion		 #
,		# $

Dictionary		% /
<		/ 0
UggRank		0 7
,		7 8

Dictionary		9 C
<		C D
UggRole		D K
,		K L
(		M N
List		N R
<		R S
UggStarterSetData		S d
>		d e
,		e f
List		g k
<		k l
List		l p
<		p q
UggItemData		q |
>		| }
>		} ~
)		~ 
>			 €
>
		€ 
>
		 ‚
Data
		ƒ ‡
{
		ˆ ‰
get
		Š 
;
		 Ž
set
		 ’
;
		’ “
}
		” •
}

 
} ç

dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRank.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
UggRank 
{ 

Challenger 
= 
$num 
, 
Master 
= 
$num 
, 
Diamond 
= 
$num 
, 
Platinum 
= 
$num 
, 
Gold		 
=		 
$num		 
,		 
Silver

 
=

 
$num

 
,

 
Bronze 
= 
$num 
, 
Overall 
= 
$num 
, 
Unknown 
= 
$num 
, 
PlatinumPlus 
= 
$num 
, 
DiamondPlus 
= 
$num 
, 
Iron 
= 
$num 
, 
Grandmaster 
= 
$num 
, 

MasterPlus 
= 
$num 
, 
Diamond2Plus 
= 
$num 
, 
} 
} Ï
fC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRegion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
	UggRegion 
{ 
Na1 
= 
$num 
, 
Euw1 
= 
$num 
, 
Kr 

= 
$num 
, 
Eun1 
= 
$num 
, 
Br1		 
=		 
$num		 
,		 
La1

 
=

 
$num

 
,

 
La2 
= 
$num 
, 
Oc1 
= 
$num 
, 
Ru 

= 
$num 
, 
Tr1 
= 
$num 
, 
Jp1 
= 
$num 
, 
World 
= 
$num 
} 
} È
dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRole.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
UggRole 
{ 
Jungle 
= 
$num 
, 
Supp 
= 
$num 
, 
Adc 
= 
$num 
, 
Top 
= 
$num 
, 
Mid		 
=		 
$num		 
,		 
None

 
=

 
$num

 
} 
} Ö
nC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggStarterSetData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggStarterSetData "
{ 
public 
List 
< 
int 
> 
ItemIds  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public		 
int		 
Matches		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
}

 
} ´

YC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Program.cs
	namespace

 	
LeagueOfItems


 
{ 
public 
class	 
Program 
{ 
public 

static 
void 
Main 
( 
string "
[" #
]# $
args% )
)) *
{ 
CreateHostBuilder 
( 
args 
) 
. 
Build #
(# $
)$ %
.% &
Run& )
() *
)* +
;+ ,
} 
public 

static 
IHostBuilder 
CreateHostBuilder 0
(0 1
string1 7
[7 8
]8 9
args: >
)> ?
=>@ B
Host 
.  
CreateDefaultBuilder !
(! "
args" &
)& '
. $
ConfigureWebHostDefaults %
(% &

webBuilder& 0
=>1 3
{ 

webBuilder 
. 

UseStartup #
<# $
Startup$ +
>+ ,
(, -
)- .
;. /
} 
) 
; 
} 
} ÀS
jC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Services\RiotDataService.cs
	namespace 	
LeagueOfItems
 
. 
Services  
{ 
public 

	interface 
IRiotDataService %
{ 
Task 
< 
List 
< 
Item 
> 
> 
GetItems !
(! "
)" #
;# $
Task 
	SaveItems 
( 
List 
< 
Item  
>  !
items" '
)' (
;( )
Task 
< 
List 
< 
Champion 
> 
> 
GetChampions )
() *
)* +
;+ ,
Task 
SaveChampions 
( 
List 
<  
Champion  (
>( )
	champions* 3
)3 4
;4 5
} 
public 

class 
RiotDataService  
:! "
IRiotDataService# 3
{ 
private 
readonly 
ILogger  
<  !
RiotDataService! 0
>0 1
_logger2 9
;9 :
private 
readonly 
ItemContext $
_context% -
;- .
private 
readonly 
string 
_baseUrl  (
=) *
$str+ Q
;Q R
private 
readonly 

HttpClient #
_client$ +
;+ ,
public 
RiotDataService 
( 
ILogger &
<& '
RiotDataService' 6
>6 7
logger8 >
,> ?
IHttpClientFactory@ R
clientFactoryS `
,` a
ItemContextb m
contextn u
)u v
{   	
_logger!! 
=!! 
logger!! 
;!! 
_context"" 
="" 
context"" 
;"" 
_client$$ 
=$$ 
clientFactory$$ #
.$$# $
CreateClient$$$ 0
($$0 1
)$$1 2
;$$2 3
}%% 	
public'' 
async'' 
Task'' 
<'' 
string''  
>''  !
GetCurrentVersion''" 3
(''3 4
)''4 5
{(( 	
var)) 
response)) 
=)) 
await))  
_client))! (
.))( )
GetAsync))) 1
())1 2
_baseUrl))2 :
+)); <
$str))= P
)))P Q
;))Q R
response** 
.** #
EnsureSuccessStatusCode** ,
(**, -
)**- .
;**. /
await,, 
using,, 
var,, 
responseStream,, *
=,,+ ,
await,,- 2
response,,3 ;
.,,; <
Content,,< C
.,,C D
ReadAsStreamAsync,,D U
(,,U V
),,V W
;,,W X
var.. 
versions.. 
=.. 
await..  
JsonSerializer..! /
.../ 0
DeserializeAsync..0 @
<..@ A
List..A E
<..E F
string..F L
>..L M
>..M N
(..N O
responseStream..O ]
)..] ^
;..^ _
var// 
currentVersion// 
=//  
versions//! )
[//) *
$num//* +
]//+ ,
;//, -
_logger11 
.11 
LogInformation11 "
(11" #
$str11# >
,11> ?
currentVersion11@ N
)11N O
;11O P
return33 
currentVersion33 !
;33! "
}44 	
public66 
async66 
Task66 
<66 
List66 
<66 
Item66 #
>66# $
>66$ %
GetItems66& .
(66. /
)66/ 0
{77 	
var88 
version88 
=88 
await88 
GetCurrentVersion88  1
(881 2
)882 3
;883 4
var99 
response99 
=99 
await99  
_client99! (
.99( )
GetAsync99) 1
(991 2
_baseUrl992 :
+99; <
$"99= ?
cdn/99? C
{99C D
version99D K
}99K L!
/data/en_US/item.json99L a
"99a b
)99b c
;99c d
response:: 
.:: #
EnsureSuccessStatusCode:: ,
(::, -
)::- .
;::. /
await<< 
using<< 
var<< 
responseStream<< *
=<<+ ,
await<<- 2
response<<3 ;
.<<; <
Content<<< C
.<<C D
ReadAsStreamAsync<<D U
(<<U V
)<<V W
;<<W X
var>> 
itemResponse>> 
=>> 
await>> $
JsonSerializer>>% 3
.>>3 4
DeserializeAsync>>4 D
<>>D E
RiotItemResponse>>E U
>>>U V
(>>V W
responseStream>>W e
,>>e f
new>>g j"
JsonSerializerOptions	>>k €
{?? '
PropertyNameCaseInsensitive@@ +
=@@, -
true@@. 2
}AA 
)AA 
;AA 
foreachCC 
(CC 
varCC 
(CC 
idCC 
,CC 
itemCC "
)CC" #
inCC$ &
itemResponseCC' 3
.CC3 4
DataCC4 8
)CC8 9
{DD 
itemEE 
.EE 
IdEE 
=EE 
idEE 
;EE 
}FF 
varHH 
itemsHH 
=HH 
itemResponseHH $
.HH$ %
DataHH% )
.HH) *
ValuesHH* 0
.HH0 1
ToListHH1 7
(HH7 8
)HH8 9
;HH9 :
_loggerJJ 
.JJ 
LogInformationJJ "
(JJ" #
$strJJ# =
,JJ= >
itemsJJ? D
.JJD E
CountJJE J
)JJJ K
;JJK L
returnLL 
itemsLL 
;LL 
}MM 	
publicOO 
asyncOO 
TaskOO 
	SaveItemsOO #
(OO# $
ListOO$ (
<OO( )
ItemOO) -
>OO- .
itemsOO/ 4
)OO4 5
{PP 	
varQQ 
deletedQQ 
=QQ 
awaitQQ 
_contextQQ  (
.QQ( )
DatabaseQQ) 1
.QQ1 2
ExecuteSqlRawAsyncQQ2 D
(QQD E
$strQQE Y
)QQY Z
;QQZ [
_loggerSS 
.SS 
LogInformationSS "
(SS" #
$strSS# ?
,SS? @
deletedSSA H
)SSH I
;SSI J
_contextUU 
.UU 
ItemsUU 
.UU 
AddRangeUU #
(UU# $
itemsUU$ )
)UU) *
;UU* +
awaitWW 
_contextWW 
.WW 
SaveChangesAsyncWW +
(WW+ ,
)WW, -
;WW- .
_loggerYY 
.YY 
LogInformationYY "
(YY" #
$strYY# =
,YY= >
itemsYY? D
.YYD E
CountYYE J
)YYJ K
;YYK L
}ZZ 	
public\\ 
async\\ 
Task\\ 
<\\ 
List\\ 
<\\ 
Champion\\ '
>\\' (
>\\( )
GetChampions\\* 6
(\\6 7
)\\7 8
{]] 	
var^^ 
version^^ 
=^^ 
await^^ 
GetCurrentVersion^^  1
(^^1 2
)^^2 3
;^^3 4
var__ 
response__ 
=__ 
await__  
_client__! (
.__( )
GetAsync__) 1
(__1 2
_baseUrl__2 :
+__; <
$"__= ?
cdn/__? C
{__C D
version__D K
}__K L%
/data/en_US/champion.json__L e
"__e f
)__f g
;__g h
response`` 
.`` #
EnsureSuccessStatusCode`` ,
(``, -
)``- .
;``. /
awaitbb 
usingbb 
varbb 
responseStreambb *
=bb+ ,
awaitbb- 2
responsebb3 ;
.bb; <
Contentbb< C
.bbC D
ReadAsStreamAsyncbbD U
(bbU V
)bbV W
;bbW X
vardd 
championResponsedd  
=dd! "
awaitdd# (
JsonSerializerdd) 7
.dd7 8
DeserializeAsyncdd8 H
<ddH I 
RiotChampionResponseddI ]
>dd] ^
(dd^ _
responseStreamdd_ m
,ddm n
newddo r"
JsonSerializerOptions	dds ˆ
{ee '
PropertyNameCaseInsensitiveff +
=ff, -
trueff. 2
}gg 
)gg 
;gg 
varii 
	championsii 
=ii 
championResponseii ,
.ii, -
Dataii- 1
.ii1 2
Valuesii2 8
.ii8 9
Selectii9 ?
(ii? @
Championii@ H
.iiH I
FromRiotChampioniiI Y
)iiY Z
.iiZ [
ToListii[ a
(iia b
)iib c
;iic d
_loggerkk 
.kk 
LogInformationkk "
(kk" #
$strkk# A
,kkA B
	championskkC L
.kkL M
CountkkM R
)kkR S
;kkS T
returnmm 
	championsmm 
;mm 
}nn 	
publicpp 
asyncpp 
Taskpp 
SaveChampionspp '
(pp' (
Listpp( ,
<pp, -
Championpp- 5
>pp5 6
	championspp7 @
)pp@ A
{qq 	
varrr 
deletedrr 
=rr 
awaitrr 
_contextrr  (
.rr( )
Databaserr) 1
.rr1 2
ExecuteSqlRawAsyncrr2 D
(rrD E
$strrrE ]
)rr] ^
;rr^ _
_loggertt 
.tt 
LogInformationtt "
(tt" #
$strtt# G
,ttG H
deletedttI P
)ttP Q
;ttQ R
_contextvv 
.vv 
	Championsvv 
.vv 
AddRangevv '
(vv' (
	championsvv( 1
)vv1 2
;vv2 3
awaitxx 
_contextxx 
.xx 
SaveChangesAsyncxx +
(xx+ ,
)xx, -
;xx- .
_loggerzz 
.zz 
LogInformationzz "
(zz" #
$strzz# E
,zzE F
	championszzG P
.zzP Q
CountzzQ V
)zzV W
;zzW X
}{{ 	
}|| 
}}} º¥
iC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Services\UggDataService.cs
	namespace 	
LeagueOfItems
 
. 
Services  
{ 
public 

	interface 
IUggDataService $
{ 
public 
Task 
SaveForAllChampions '
(' (
)( )
;) *
} 
public 

class 
UggDataService 
:  !
IUggDataService" 1
{ 
private 
readonly 
ILogger  
<  !
UggDataService! /
>/ 0
_logger1 8
;8 9
private 
readonly 
string 
_baseUrl  (
=) *
$str+ A
;A B
private 
readonly 

HttpClient #
_client$ +
;+ ,
private 
readonly 
ItemContext $
_context% -
;- .
public 
UggDataService 
( 
ILogger %
<% &
UggDataService& 4
>4 5
logger6 <
,< =
IHttpClientFactory> P
clientFactoryQ ^
,^ _
ItemContext` k
contextl s
)s t
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_client   
=   
clientFactory   #
.  # $
CreateClient  $ 0
(  0 1
)  1 2
;  2 3
}!! 	
public## 
async## 
Task## 
SaveForAllChampions## -
(##- .
)##. /
{$$ 	
var%% 
	champions%% 
=%% 
await%% !
_context%%" *
.%%* +
	Champions%%+ 4
.%%4 5
ToListAsync%%5 @
(%%@ A
)%%A B
;%%B C
var'' 
starterSetData'' 
=''  
new''! $
List''% )
<'') *
StarterSetData''* 8
>''8 9
(''9 :
)'': ;
;''; <
var(( 
itemData(( 
=(( 
new(( 
List(( #
<((# $
ItemData(($ ,
>((, -
(((- .
)((. /
;((/ 0
foreach** 
(** 
var** 
champion** !
in**" $
	champions**% .
)**. /
{++ 
_logger,, 
.,, 
LogInformation,, &
(,,& '
$str,,' H
,,,H I
champion,,J R
.,,R S
Name,,S W
),,W X
;,,X Y
var.. 
(.. 
newStarterSetData.. &
,..& '
newItemData..( 3
)..3 4
=..5 6
await..7 <
GetUggItemData..= K
(..K L
champion..L T
...T U
Id..U W
)..W X
;..X Y
starterSetData00 
.00 
AddRange00 '
(00' (
newStarterSetData00( 9
)009 :
;00: ;
itemData11 
.11 
AddRange11 !
(11! "
newItemData11" -
)11- .
;11. /
}22 
await44 
SaveStarterSetData44 $
(44$ %
starterSetData44% 3
)443 4
;444 5
await55 
SaveItemData55 
(55 
itemData55 '
)55' (
;55( )
}66 	
public88 
async88 
Task88 
<88 
(88 
List88 
<88  
StarterSetData88  .
>88. /
,88/ 0
List881 5
<885 6
ItemData886 >
>88> ?
)88? @
>88@ A
GetUggItemData88B P
(88P Q
int88Q T

championId88U _
)88_ `
{99 	
var:: 
response:: 
=:: 
await::  
_client::! (
.::( )
GetAsync::) 1
(::1 2
_baseUrl::2 :
+::; <
$"::= ?5
)lol/1.1/table/items/11_5/ranked_solo_5x5/::? h
{::h i

championId::i s
}::s t
/1.4.0.json::t 
"	:: €
)
::€ 
;
:: ‚
response;; 
.;; #
EnsureSuccessStatusCode;; ,
(;;, -
);;- .
;;;. /
await== 
using== 
var== 
responseStream== *
===+ ,
await==- 2
response==3 ;
.==; <
Content==< C
.==C D
ReadAsStreamAsync==D U
(==U V
)==V W
;==W X
var?? 
itemData?? 
=?? 
await@@ 
JsonSerializer@@ $
.AA 
DeserializeAsyncAA %
<AA% &

DictionaryAA& 0
<AA0 1
intAA1 4
,AA4 5

DictionaryAA6 @
<AA@ A
intAAA D
,AAD E

DictionaryAAF P
<AAP Q
intAAQ T
,AAT U
ListAAV Z
<AAZ [
ListAA[ _
<AA_ `
JsonElementAA` k
>AAk l
>AAl m
>AAm n
>AAn o
>AAo p
>AAp q
(AAq r
responseStreamBB &
)BB& '
;BB' (
varDD 
parsedItemDataDD 
=DD  
ParseUggDataDD! -
(DD- .

championIdDD. 8
,DD8 9
itemDataDD: B
)DDB C
;DDC D
varFF 
dataFF 
=FF 
UggDataToItemDataFF (
(FF( )
parsedItemDataFF) 7
)FF7 8
;FF8 9
returnHH 
dataHH 
;HH 
}II 	
privateKK 
UggItemTableDataKK  
ParseUggDataKK! -
(KK- .
intLL 

championIdLL 
,LL 

DictionaryMM 
<MM 
intMM 
,MM 

DictionaryMM &
<MM& '
intMM' *
,MM* +

DictionaryMM, 6
<MM6 7
intMM7 :
,MM: ;
ListMM< @
<MM@ A
ListMMA E
<MME F
JsonElementMMF Q
>MMQ R
>MMR S
>MMS T
>MMT U
>MMU V
dataMMW [
)MM[ \
{NN 	
varOO 
newDataOO 
=OO 
newOO 
UggItemTableDataOO .
{PP 

ChampionIdQQ 
=QQ 

championIdQQ '
,QQ' (
DataRR 
=RR 
newSS 

DictionarySS "
<SS" #
	UggRegionSS# ,
,SS, -

DictionarySS. 8
<SS8 9
UggRankSS9 @
,SS@ A

DictionaryTT "
<TT" #
UggRoleTT# *
,TT* +
(TT, -
ListTT- 1
<TT1 2
UggStarterSetDataTT2 C
>TTC D
,TTD E
ListTTF J
<TTJ K
ListTTK O
<TTO P
UggItemDataTTP [
>TT[ \
>TT\ ]
)TT] ^
>TT^ _
>TT_ `
>TT` a
(TTa b
)TTb c
}UU 
;UU 
foreachXX 
(XX 
varXX 
(XX 
regionIndexXX %
,XX% &
rankRoleDataXX' 3
)XX3 4
inXX5 7
dataXX8 <
)XX< =
{YY 
varZZ 
regionZZ 
=ZZ 
(ZZ 
	UggRegionZZ '
)ZZ' (
regionIndexZZ) 4
;ZZ4 5
newData[[ 
.[[ 
Data[[ 
[[[ 
region[[ #
][[# $
=[[% &
new[[' *

Dictionary[[+ 5
<[[5 6
UggRank[[6 =
,[[= >

Dictionary[[? I
<[[I J
UggRole[[J Q
,[[Q R
([[S T
List[[T X
<[[X Y
UggStarterSetData[[Y j
>[[j k
,[[k l
List[[m q
<[[q r
List[[r v
<[[v w
UggItemData	[[w ‚
>
[[‚ ƒ
>
[[ƒ „
)
[[„ …
>
[[… †
>
[[† ‡
(
[[‡ ˆ
)
[[ˆ ‰
;
[[‰ Š
foreach]] 
(]] 
var]] 
(]] 
	rankIndex]] '
,]]' (
roleData]]) 1
)]]1 2
in]]3 5
rankRoleData]]6 B
)]]B C
{^^ 
var__ 
rank__ 
=__ 
(__  
UggRank__  '
)__' (
	rankIndex__) 2
;__2 3
newData`` 
.`` 
Data``  
[``  !
region``! '
]``' (
[``( )
rank``) -
]``- .
=``/ 0
new``1 4

Dictionary``5 ?
<``? @
UggRole``@ G
,``G H
(``I J
List``J N
<``N O
UggStarterSetData``O `
>``` a
,``a b
List``c g
<``g h
List``h l
<``l m
UggItemData``m x
>``x y
>``y z
)``z {
>``{ |
(``| }
)``} ~
;``~ 
foreachbb 
(bb 
varbb  
(bb! "
	roleIndexbb" +
,bb+ ,
itemDatabb- 5
)bb5 6
inbb7 9
roleDatabb: B
)bbB C
{cc 
vardd 
roledd  
=dd! "
(dd# $
UggRoledd$ +
)dd+ ,
	roleIndexdd- 6
;dd6 7
varff 
newItemDataff '
=ff( )
ParseItemDataff* 7
(ff7 8
itemDataff8 @
)ff@ A
;ffA B
newDatahh 
.hh  
Datahh  $
[hh$ %
regionhh% +
]hh+ ,
[hh, -
rankhh- 1
]hh1 2
[hh2 3
rolehh3 7
]hh7 8
=hh9 :
newItemDatahh; F
;hhF G
}ii 
}jj 
}kk 
returnmm 
newDatamm 
;mm 
}nn 	
privaterr 
staticrr 
(rr 
Listrr 
<rr 
UggStarterSetDatarr .
>rr. /
,rr/ 0
Listrr1 5
<rr5 6
Listrr6 :
<rr: ;
UggItemDatarr; F
>rrF G
>rrG H
)rrH I
ParseItemDatarrJ W
(rrW X
ListrrX \
<rr\ ]
Listrr] a
<rra b
JsonElementrrb m
>rrm n
>rrn o
itemDatarrp x
)rrx y
{ss 	
vartt 
starterItemDatatt 
=tt  !
itemDatatt" *
[tt* +
$numtt+ ,
]tt, -
;tt- .
varvv 
itemDataByOrdervv 
=vv  !
itemDatavv" *
.vv* +
Skipvv+ /
(vv/ 0
$numvv0 1
)vv1 2
.vv2 3
ToListvv3 9
(vv9 :
)vv: ;
;vv; <
varxx 
newStarterItemDataxx "
=xx# $
starterItemDataxx% 4
.xx4 5
Selectxx5 ;
(xx; <
startSetInfoxx< H
=>xxI K
newxxL O
UggStarterSetDataxxP a
{yy 
ItemIdszz 
=zz 
startSetInfozz &
[zz& '
$numzz' (
]zz( )
.zz) *
EnumerateArrayzz* 8
(zz8 9
)zz9 :
.zz: ;
Selectzz; A
(zzA B
elzzB D
=>zzE G
elzzH J
.zzJ K
GetInt32zzK S
(zzS T
)zzT U
)zzU V
.zzV W
ToListzzW ]
(zz] ^
)zz^ _
,zz_ `
Wins{{ 
={{ 
startSetInfo{{ #
[{{# $
$num{{$ %
]{{% &
.{{& '
GetInt32{{' /
({{/ 0
){{0 1
,{{1 2
Matches|| 
=|| 
startSetInfo|| &
[||& '
$num||' (
]||( )
.||) *
GetInt32||* 2
(||2 3
)||3 4
}}} 
)}} 
.}} 
ToList}} 
(}} 
)}} 
;}} 
var 
newItemDataByOrder "
=# $
itemDataByOrder% 4
.4 5
Select5 ;
(; <
itemsByOrder< H
=>I K
itemsByOrderL X
.X Y
SelectY _
(_ `
itemInfo` h
=>i k
new
€€ 
UggItemData
€€ 
{
 
ItemId
‚‚ 
=
‚‚ 
itemInfo
‚‚ %
[
‚‚% &
$num
‚‚& '
]
‚‚' (
.
‚‚( )
GetInt32
‚‚) 1
(
‚‚1 2
)
‚‚2 3
,
‚‚3 4
Wins
ƒƒ 
=
ƒƒ 
itemInfo
ƒƒ #
[
ƒƒ# $
$num
ƒƒ$ %
]
ƒƒ% &
.
ƒƒ& '
GetInt32
ƒƒ' /
(
ƒƒ/ 0
)
ƒƒ0 1
,
ƒƒ1 2
Matches
„„ 
=
„„ 
itemInfo
„„ &
[
„„& '
$num
„„' (
]
„„( )
.
„„) *
GetInt32
„„* 2
(
„„2 3
)
„„3 4
}
…… 
)
…… 
.
…… 
ToList
…… 
(
…… 
)
…… 
)
…… 
.
…… 
ToList
…… #
(
……# $
)
……$ %
;
……% &
return
‡‡ 
(
‡‡  
newStarterItemData
‡‡ &
,
‡‡& ' 
newItemDataByOrder
‡‡( :
)
‡‡: ;
;
‡‡; <
}
ˆˆ 	
private
ŠŠ 
static
ŠŠ 
(
ŠŠ 
List
ŠŠ 
<
ŠŠ 
StarterSetData
ŠŠ +
>
ŠŠ+ ,
,
ŠŠ, -
List
ŠŠ. 2
<
ŠŠ2 3
ItemData
ŠŠ3 ;
>
ŠŠ; <
)
ŠŠ< =
UggDataToItemData
ŠŠ> O
(
ŠŠO P
UggItemTableData
ŠŠP `
itemTableData
ŠŠa n
)
ŠŠn o
{
‹‹ 	
var
ŒŒ 
itemData
ŒŒ 
=
ŒŒ 
new
ŒŒ 
List
ŒŒ #
<
ŒŒ# $
ItemData
ŒŒ$ ,
>
ŒŒ, -
(
ŒŒ- .
)
ŒŒ. /
;
ŒŒ/ 0
var
ŽŽ 
starterSetData
ŽŽ 
=
ŽŽ  
new
ŽŽ! $
List
ŽŽ% )
<
ŽŽ) *
StarterSetData
ŽŽ* 8
>
ŽŽ8 9
(
ŽŽ9 :
)
ŽŽ: ;
;
ŽŽ; <
foreach
 
(
 
var
 
(
 
region
  
,
  !
rankRoleData
" .
)
. /
in
0 2
itemTableData
3 @
.
@ A
Data
A E
)
E F
{
‘‘ 
foreach
’’ 
(
’’ 
var
’’ 
(
’’ 
rank
’’ "
,
’’" #
roleData
’’$ ,
)
’’, -
in
’’. 0
rankRoleData
’’1 =
)
’’= >
{
““ 
foreach
”” 
(
”” 
var
””  
(
””! "
role
””" &
,
””& '
(
””( )
uggStarterSetData
””) :
,
””: ; 
uggItemDataByOrder
””< N
)
””N O
)
””O P
in
””Q S
roleData
””T \
)
””\ ]
{
•• 
starterSetData
–– &
.
––& '
AddRange
––' /
(
––/ 0
uggStarterSetData
––0 A
.
––A B
Select
––B H
(
––H I
uggStarterSet
––I V
=>
––W Y
new
––Z ]
StarterSetData
––^ l
{
—— 

ChampionId
˜˜ &
=
˜˜' (
itemTableData
˜˜) 6
.
˜˜6 7

ChampionId
˜˜7 A
,
˜˜A B
Items
™™ !
=
™™" #
uggStarterSet
™™$ 1
.
™™1 2
ItemIds
™™2 9
.
™™9 :
GroupBy
™™: A
(
™™A B
id
™™B D
=>
™™E G
id
™™H J
,
™™J K
(
™™L M
id
™™M O
,
™™O P
ids
™™Q T
)
™™T U
=>
™™V X
new
™™Y \
StarterSetItem
™™] k
{
šš 
ItemId
››  &
=
››' (
id
››) +
,
››+ ,
Quantity
œœ  (
=
œœ) *
ids
œœ+ .
.
œœ. /
ToList
œœ/ 5
(
œœ5 6
)
œœ6 7
.
œœ7 8
Count
œœ8 =
}
 
)
 
.
 
ToList
 %
(
% &
)
& '
,
' (
Matches
žž #
=
žž$ %
uggStarterSet
žž& 3
.
žž3 4
Matches
žž4 ;
,
žž; <
Wins
ŸŸ  
=
ŸŸ! "
uggStarterSet
ŸŸ# 0
.
ŸŸ0 1
Wins
ŸŸ1 5
,
ŸŸ5 6
Rank
    
=
  ! "
rank
  # '
,
  ' (
Region
¡¡ "
=
¡¡# $
region
¡¡% +
,
¡¡+ ,
Role
¢¢  
=
¢¢! "
role
¢¢# '
}
££ 
)
££ 
)
££ 
;
££ 
for
¥¥ 
(
¥¥ 
var
¥¥  
order
¥¥! &
=
¥¥' (
$num
¥¥) *
;
¥¥* +
order
¥¥, 1
<
¥¥2 3 
uggItemDataByOrder
¥¥4 F
.
¥¥F G
Count
¥¥G L
;
¥¥L M
order
¥¥N S
++
¥¥S U
)
¥¥U V
{
¦¦ 
var
§§ 
uggItemData
§§  +
=
§§, - 
uggItemDataByOrder
§§. @
[
§§@ A
order
§§A F
]
§§F G
;
§§G H
itemData
¨¨ $
.
¨¨$ %
AddRange
¨¨% -
(
¨¨- .
uggItemData
¨¨. 9
.
¨¨9 :
Select
¨¨: @
(
¨¨@ A
uggItem
¨¨A H
=>
¨¨I K
new
¨¨L O
ItemData
¨¨P X
{
©© 

ChampionId
ªª  *
=
ªª+ ,
itemTableData
ªª- :
.
ªª: ;

ChampionId
ªª; E
,
ªªE F
ItemId
««  &
=
««' (
uggItem
««) 0
.
««0 1
ItemId
««1 7
,
««7 8
Matches
¬¬  '
=
¬¬( )
uggItem
¬¬* 1
.
¬¬1 2
Matches
¬¬2 9
,
¬¬9 :
Wins
­­  $
=
­­% &
uggItem
­­' .
.
­­. /
Wins
­­/ 3
,
­­3 4
Order
®®  %
=
®®& '
order
®®( -
,
®®- .
Rank
¯¯  $
=
¯¯% &
rank
¯¯' +
,
¯¯+ ,
Region
°°  &
=
°°' (
region
°°) /
,
°°/ 0
Role
±±  $
=
±±% &
role
±±' +
,
±±+ ,
}
²² 
)
²² 
)
²² 
;
²²  
}
³³ 
}
´´ 
}
µµ 
}
¶¶ 
return
¸¸ 
(
¸¸ 
starterSetData
¸¸ "
,
¸¸" #
itemData
¸¸$ ,
)
¸¸, -
;
¸¸- .
}
¹¹ 	
private
»» 
async
»» 
Task
»» 
SaveItemData
»» '
(
»»' (
List
»»( ,
<
»», -
ItemData
»»- 5
>
»»5 6
itemData
»»7 ?
)
»»? @
{
¼¼ 	
var
½½ 
deleted
½½ 
=
½½ 
await
½½ 
_context
½½  (
.
½½( )
Database
½½) 1
.
½½1 2 
ExecuteSqlRawAsync
½½2 D
(
½½D E
$str
½½E \
)
½½\ ]
;
½½] ^
_logger
¿¿ 
.
¿¿ 
LogInformation
¿¿ "
(
¿¿" #
$str
¿¿# K
,
¿¿K L
deleted
¿¿M T
)
¿¿T U
;
¿¿U V
_context
ÁÁ 
.
ÁÁ 
ItemData
ÁÁ 
.
ÁÁ 
AddRange
ÁÁ &
(
ÁÁ& '
itemData
ÁÁ' /
)
ÁÁ/ 0
;
ÁÁ0 1
await
ÃÃ 
_context
ÃÃ 
.
ÃÃ 
SaveChangesAsync
ÃÃ +
(
ÃÃ+ ,
)
ÃÃ, -
;
ÃÃ- .
_logger
ÅÅ 
.
ÅÅ 
LogInformation
ÅÅ "
(
ÅÅ" #
$str
ÅÅ# I
,
ÅÅI J
itemData
ÅÅK S
.
ÅÅS T
Count
ÅÅT Y
)
ÅÅY Z
;
ÅÅZ [
}
ÆÆ 	
private
ÈÈ 
async
ÈÈ 
Task
ÈÈ  
SaveStarterSetData
ÈÈ -
(
ÈÈ- .
List
ÈÈ. 2
<
ÈÈ2 3
StarterSetData
ÈÈ3 A
>
ÈÈA B
starterSetData
ÈÈC Q
)
ÈÈQ R
{
ÉÉ 	
var
ÊÊ 
deleted
ÊÊ 
=
ÊÊ 
await
ÊÊ 
_context
ÊÊ  (
.
ÊÊ( )
Database
ÊÊ) 1
.
ÊÊ1 2 
ExecuteSqlRawAsync
ÊÊ2 D
(
ÊÊD E
$str
ÊÊE b
)
ÊÊb c
;
ÊÊc d
_logger
ÌÌ 
.
ÌÌ 
LogInformation
ÌÌ "
(
ÌÌ" #
$str
ÌÌ# O
,
ÌÌO P
deleted
ÌÌQ X
)
ÌÌX Y
;
ÌÌY Z
_context
ÎÎ 
.
ÎÎ 
StarterSetData
ÎÎ #
.
ÎÎ# $
AddRange
ÎÎ$ ,
(
ÎÎ, -
starterSetData
ÎÎ- ;
)
ÎÎ; <
;
ÎÎ< =
await
ÐÐ 
_context
ÐÐ 
.
ÐÐ 
SaveChangesAsync
ÐÐ +
(
ÐÐ+ ,
)
ÐÐ, -
;
ÐÐ- .
_logger
ÒÒ 
.
ÒÒ 
LogInformation
ÒÒ "
(
ÒÒ" #
$str
ÒÒ# R
,
ÒÒR S
starterSetData
ÒÒT b
.
ÒÒb c
Count
ÒÒc h
)
ÒÒh i
;
ÒÒi j
}
ÓÓ 	
}
ÔÔ 
}ÕÕ ‘
YC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Startup.cs
	namespace 	
LeagueOfItems
 
{ 
public 
class	 
Startup 
{ 
public 

Startup 
( 
IConfiguration !
configuration" /
)/ 0
{ 
Configuration 
= 
configuration #
;# $
} 
public 

IConfiguration 
Configuration '
{( )
get* -
;- .
}/ 0
public 

void 
ConfigureServices !
(! "
IServiceCollection" 4
services5 =
)= >
{ 
services   
.   
AddDbContext   
<   
ItemContext   '
>  ' (
(  ( )
)  ) *
;  * +
services!! 
.!! 
AddHttpClient!! 
(!! 
)!! 
;!! 
services## 
.## 
	AddScoped## 
<## 
IRiotDataService## )
,##) *
RiotDataService##+ :
>##: ;
(##; <
)##< =
;##= >
services$$ 
.$$ 
	AddScoped$$ 
<$$ 
IUggDataService$$ (
,$$( )
UggDataService$$* 8
>$$8 9
($$9 :
)$$: ;
;$$; <
services&& 
.&& 
AddControllers&& 
(&& 
)&& 
;&&  
services'' 
.'' 
AddSwaggerGen'' 
('' 
c'' 
=>'' !
{(( 
c)) 	
.))	 


SwaggerDoc))
 
()) 
$str)) 
,)) 
new)) 
OpenApiInfo)) *
{))+ ,
Title))- 2
=))3 4
$str))5 D
,))D E
Version))F M
=))N O
$str))P T
}))U V
)))V W
;))W X
}** 
)** 
;** 	
}++ 
public.. 

void.. 
	Configure.. 
(.. 
IApplicationBuilder.. -
app... 1
,..1 2
IWebHostEnvironment..3 F
env..G J
)..J K
{// 
if00 
(00	 

env00
 
.00 
IsDevelopment00 
(00 
)00 
)00 
{11 
app22 
.22 %
UseDeveloperExceptionPage22 %
(22% &
)22& '
;22' (
app33 
.33 

UseSwagger33 
(33 
)33 
;33 
app44 
.44 
UseSwaggerUI44 
(44 
c44 
=>44 
c44 
.44  
SwaggerEndpoint44  /
(44/ 0
$str440 J
,44J K
$str44L ^
)44^ _
)44_ `
;44` a
}55 
app77 	
.77	 

UseHttpsRedirection77
 
(77 
)77 
;77  
app99 	
.99	 


UseRouting99
 
(99 
)99 
;99 
app;; 	
.;;	 

UseAuthorization;;
 
(;; 
);; 
;;; 
app== 	
.==	 

UseEndpoints==
 
(== 
	endpoints==  
=>==! #
{>> 
	endpoints?? 
.?? 
MapControllers??  
(??  !
)??! "
;??" #
}@@ 
)@@ 
;@@ 	
}AA 
}BB 
}CC 