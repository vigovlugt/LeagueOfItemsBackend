ó
nC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Configuration\MappingProfile.cs
	namespace 	
LeagueOfItems
 
. 
Configuration %
{ 
public 

class 
MappingProfile 
:  !
Profile" )
{ 
public		 
MappingProfile		 
(		 
)		 
{

 	
	CreateMap 
< 
Item 
, 
ItemViewModel )
>) *
(* +
)+ ,
;, -
} 	
} 
} ¸
mC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\ItemsController.cs
	namespace		 	
LeagueOfItems		
 
.		 
Controllers		 #
{

 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
ItemsController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ILogger  
<  !
ItemsController! 0
>0 1
_logger2 9
;9 :
private 
readonly 
IItemService %
_service& .
;. /
public 
ItemsController 
( 
ILogger &
<& '
ItemsController' 6
>6 7
logger8 >
,> ?
IItemService@ L
serviceM T
)T U
{ 	
_logger 
= 
logger 
; 
_service 
= 
service 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
List 
< 
ItemViewModel ,
>, -
>- .
Get/ 2
(2 3
[3 4
	FromQuery4 =
]= >

ItemFilter? I
filterJ P
)P Q
{ 	
return 
await 
_service !
.! "
GetAllItems" -
(- .
filter. 4
)4 5
;5 6
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public   
async   
Task   
<   
ItemViewModel   '
>  ' (
Get  ) ,
(  , -
[  - .
	FromRoute  . 7
]  7 8
int  9 <
id  = ?
,  ? @
[  A B
	FromQuery  B K
]  K L

ItemFilter  M W
filter  X ^
)  ^ _
{!! 	
return"" 
await"" 
_service"" !
.""! "
GetItemStats""" .
("". /
id""/ 1
,""1 2
filter""3 9
)""9 :
;"": ;
}## 	
}$$ 
}'' ï
lC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\RiotController.cs
	namespace 	
LeagueOfItems
 
. 
Controllers #
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
RiotController 
:  !
ControllerBase" 0
{ 
private 
readonly 
ILogger  
<  !
RiotController! /
>/ 0
_logger1 8
;8 9
private 
ItemContext 
_context $
;$ %
private 
readonly 
IRiotDataService )
_riotService* 6
;6 7
public 
RiotController 
( 
ILogger %
<% &
RiotController& 4
>4 5
logger6 <
,< =
ItemContext> I
contextJ Q
,Q R
IRiotDataServiceS c
riotServiced o
)o p
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_riotService 
= 
riotService &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
Get 
( 
) 
{ 	
var 
items 
= 
await 
_riotService *
.* +
GetItems+ 3
(3 4
)4 5
;5 6
await 
_riotService 
. 
	SaveItems (
(( )
items) .
). /
;/ 0
var 
	champions 
= 
await !
_riotService" .
.. /
GetChampions/ ;
(; <
)< =
;= >
await 
_riotService 
. 
SaveChampions ,
(, -
	champions- 6
)6 7
;7 8
}   	
}!! 
}"" Ó
kC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Controllers\UggController.cs
	namespace 	
LeagueOfItems
 
. 
Controllers #
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
UggController 
:  
ControllerBase! /
{ 
private 
readonly 
ILogger  
<  !
UggController! .
>. /
_logger0 7
;7 8
private 
ItemContext 
_context $
;$ %
private 
readonly 
IUggDataService (
_uggService) 4
;4 5
public 
UggController 
( 
ILogger $
<$ %
UggController% 2
>2 3
logger4 :
,: ;
ItemContext< G
contextH O
,O P
IUggDataServiceQ `

uggServicea k
)k l
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_uggService 
= 

uggService $
;$ %
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
Get 
( 
) 
{ 	
await 
_uggService 
. 
SaveForAllChampions 1
(1 2
)2 3
;3 4
} 	
} 
} ä
pC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210315141539_Init.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
Init 
: 
	Migration  )
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 
,

 
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
trueH L
)L M
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
Id8 :
): ;
;; <
} 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str 
) 
; 
} 	
} 
} ¶7
vC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210315152653_Riot-Items.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
	RiotItems "
:# $
	Migration% .
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 
,

 
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
,  
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str #
,# $
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str !
,! "
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable   
:   
true   
)   
;    
migrationBuilder"" 
."" 
CreateTable"" (
(""( )
name## 
:## 
$str##  
,##  !
columns$$ 
:$$ 
table$$ 
=>$$ !
new$$" %
{%% 
Id&& 
=&& 
table&& 
.&& 
Column&& %
<&&% &
int&&& )
>&&) *
(&&* +
type&&+ /
:&&/ 0
$str&&1 :
,&&: ;
nullable&&< D
:&&D E
false&&F K
)&&K L
.'' 

Annotation'' #
(''# $
$str''$ :
,'': ;
true''< @
)''@ A
,''A B
ItemId(( 
=(( 
table(( "
.((" #
Column((# )
<(() *
int((* -
>((- .
(((. /
type((/ 3
:((3 4
$str((5 >
,((> ?
nullable((@ H
:((H I
false((J O
)((O P
,((P Q
Base)) 
=)) 
table))  
.))  !
Column))! '
<))' (
int))( +
>))+ ,
()), -
type))- 1
:))1 2
$str))3 <
,))< =
nullable))> F
:))F G
false))H M
)))M N
,))N O
Total** 
=** 
table** !
.**! "
Column**" (
<**( )
int**) ,
>**, -
(**- .
type**. 2
:**2 3
$str**4 =
,**= >
nullable**? G
:**G H
false**I N
)**N O
,**O P
Sell++ 
=++ 
table++  
.++  !
Column++! '
<++' (
int++( +
>+++ ,
(++, -
type++- 1
:++1 2
$str++3 <
,++< =
nullable++> F
:++F G
false++H M
)++M N
,++N O
Purchasable,, 
=,,  !
table,," '
.,,' (
Column,,( .
<,,. /
bool,,/ 3
>,,3 4
(,,4 5
type,,5 9
:,,9 :
$str,,; D
,,,D E
nullable,,F N
:,,N O
false,,P U
),,U V
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% 2
,002 3
x004 5
=>006 8
x009 :
.00: ;
Id00; =
)00= >
;00> ?
table11 
.11 

ForeignKey11 $
(11$ %
name22 
:22 
$str22 8
,228 9
column33 
:33 
x33  !
=>33" $
x33% &
.33& '
ItemId33' -
,33- .
principalTable44 &
:44& '
$str44( /
,44/ 0
principalColumn55 '
:55' (
$str55) -
,55- .
onDelete66  
:66  !
ReferentialAction66" 3
.663 4
Cascade664 ;
)66; <
;66< =
}77 
)77 
;77 
migrationBuilder99 
.99 
CreateIndex99 (
(99( )
name:: 
::: 
$str:: *
,::* +
table;; 
:;; 
$str;; !
,;;! "
column<< 
:<< 
$str<<  
,<<  !
unique== 
:== 
true== 
)== 
;== 
}>> 	
	protected@@ 
override@@ 
void@@ 
Down@@  $
(@@$ %
MigrationBuilder@@% 5
migrationBuilder@@6 F
)@@F G
{AA 	
migrationBuilderBB 
.BB 
	DropTableBB &
(BB& '
nameCC 
:CC 
$strCC  
)CC  !
;CC! "
migrationBuilderEE 
.EE 

DropColumnEE '
(EE' (
nameFF 
:FF 
$strFF 
,FF 
tableGG 
:GG 
$strGG 
)GG 
;GG  
migrationBuilderII 
.II 

DropColumnII '
(II' (
nameJJ 
:JJ 
$strJJ 
,JJ 
tableKK 
:KK 
$strKK 
)KK 
;KK  
migrationBuilderMM 
.MM 

DropColumnMM '
(MM' (
nameNN 
:NN 
$strNN #
,NN# $
tableOO 
:OO 
$strOO 
)OO 
;OO  
migrationBuilderQQ 
.QQ 

DropColumnQQ '
(QQ' (
nameRR 
:RR 
$strRR !
,RR! "
tableSS 
:SS 
$strSS 
)SS 
;SS  
}TT 	
}UU 
}VV Ë{
tC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Migrations\20210316164217_ItemData.cs
	namespace 	
LeagueOfItems
 
. 

Migrations "
{ 
public 

partial 
class 
ItemData !
:" #
	Migration$ -
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	DropTable		 &
(		& '
name

 
:

 
$str

  
)

  !
;

! "
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str !
,! "
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ :
,: ;
true< @
)@ A
,A B
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
trueH L
)L M
,M N
Title 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
Blurb 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
trueI M
)M N
,N O
RiotId 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 >
,> ?
nullable@ H
:H I
trueJ N
)N O
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
Id< >
)> ?
;? @
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
ItemId   
=   
table   "
.  " #
Column  # )
<  ) *
int  * -
>  - .
(  . /
type  / 3
:  3 4
$str  5 >
,  > ?
nullable  @ H
:  H I
false  J O
)  O P
,  P Q

ChampionId!! 
=!!  
table!!! &
.!!& '
Column!!' -
<!!- .
int!!. 1
>!!1 2
(!!2 3
type!!3 7
:!!7 8
$str!!9 B
,!!B C
nullable!!D L
:!!L M
false!!N S
)!!S T
,!!T U
Region"" 
="" 
table"" "
.""" #
Column""# )
<"") *
int""* -
>""- .
("". /
type""/ 3
:""3 4
$str""5 >
,""> ?
nullable""@ H
:""H I
false""J O
)""O P
,""P Q
Rank## 
=## 
table##  
.##  !
Column##! '
<##' (
int##( +
>##+ ,
(##, -
type##- 1
:##1 2
$str##3 <
,##< =
nullable##> F
:##F G
false##H M
)##M N
,##N O
Role$$ 
=$$ 
table$$  
.$$  !
Column$$! '
<$$' (
int$$( +
>$$+ ,
($$, -
type$$- 1
:$$1 2
$str$$3 <
,$$< =
nullable$$> F
:$$F G
false$$H M
)$$M N
,$$N O
Order%% 
=%% 
table%% !
.%%! "
Column%%" (
<%%( )
int%%) ,
>%%, -
(%%- .
type%%. 2
:%%2 3
$str%%4 =
,%%= >
nullable%%? G
:%%G H
false%%I N
)%%N O
,%%O P
Wins&& 
=&& 
table&&  
.&&  !
Column&&! '
<&&' (
int&&( +
>&&+ ,
(&&, -
type&&- 1
:&&1 2
$str&&3 <
,&&< =
nullable&&> F
:&&F G
false&&H M
)&&M N
,&&N O
Matches'' 
='' 
table'' #
.''# $
Column''$ *
<''* +
int''+ .
>''. /
(''/ 0
type''0 4
:''4 5
$str''6 ?
,''? @
nullable''A I
:''I J
false''K P
)''P Q
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 2
,++2 3
x++4 5
=>++6 8
new++9 <
{++= >
x++? @
.++@ A
ItemId++A G
,++G H
x++I J
.++J K

ChampionId++K U
,++U V
x++W X
.++X Y
Rank++Y ]
,++] ^
x++_ `
.++` a
Order++a f
,++f g
x++h i
.++i j
Region++j p
,++p q
x++r s
.++s t
Role++t x
}++y z
)++z {
;++{ |
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateTable.. (
(..( )
name// 
:// 
$str// &
,//& '
columns00 
:00 
table00 
=>00 !
new00" %
{11 
Id22 
=22 
table22 
.22 
Column22 %
<22% &
int22& )
>22) *
(22* +
type22+ /
:22/ 0
$str221 :
,22: ;
nullable22< D
:22D E
false22F K
)22K L
.33 

Annotation33 #
(33# $
$str33$ :
,33: ;
true33< @
)33@ A
,33A B

ChampionId44 
=44  
table44! &
.44& '
Column44' -
<44- .
int44. 1
>441 2
(442 3
type443 7
:447 8
$str449 B
,44B C
nullable44D L
:44L M
false44N S
)44S T
,44T U
Region55 
=55 
table55 "
.55" #
Column55# )
<55) *
int55* -
>55- .
(55. /
type55/ 3
:553 4
$str555 >
,55> ?
nullable55@ H
:55H I
false55J O
)55O P
,55P Q
Rank66 
=66 
table66  
.66  !
Column66! '
<66' (
int66( +
>66+ ,
(66, -
type66- 1
:661 2
$str663 <
,66< =
nullable66> F
:66F G
false66H M
)66M N
,66N O
Role77 
=77 
table77  
.77  !
Column77! '
<77' (
int77( +
>77+ ,
(77, -
type77- 1
:771 2
$str773 <
,77< =
nullable77> F
:77F G
false77H M
)77M N
,77N O
Wins88 
=88 
table88  
.88  !
Column88! '
<88' (
int88( +
>88+ ,
(88, -
type88- 1
:881 2
$str883 <
,88< =
nullable88> F
:88F G
false88H M
)88M N
,88N O
Matches99 
=99 
table99 #
.99# $
Column99$ *
<99* +
int99+ .
>99. /
(99/ 0
type990 4
:994 5
$str996 ?
,99? @
nullable99A I
:99I J
false99K P
)99P Q
}:: 
,:: 
constraints;; 
:;; 
table;; "
=>;;# %
{<< 
table== 
.== 

PrimaryKey== $
(==$ %
$str==% 8
,==8 9
x==: ;
=>==< >
x==? @
.==@ A
Id==A C
)==C D
;==D E
}>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
CreateTable@@ (
(@@( )
nameAA 
:AA 
$strAA '
,AA' (
columnsBB 
:BB 
tableBB 
=>BB !
newBB" %
{CC 
StarterSetIdDD  
=DD! "
tableDD# (
.DD( )
ColumnDD) /
<DD/ 0
intDD0 3
>DD3 4
(DD4 5
typeDD5 9
:DD9 :
$strDD; D
,DDD E
nullableDDF N
:DDN O
falseDDP U
)DDU V
,DDV W
ItemIdEE 
=EE 
tableEE "
.EE" #
ColumnEE# )
<EE) *
intEE* -
>EE- .
(EE. /
typeEE/ 3
:EE3 4
$strEE5 >
,EE> ?
nullableEE@ H
:EEH I
falseEEJ O
)EEO P
,EEP Q
QuantityFF 
=FF 
tableFF $
.FF$ %
ColumnFF% +
<FF+ ,
intFF, /
>FF/ 0
(FF0 1
typeFF1 5
:FF5 6
$strFF7 @
,FF@ A
nullableFFB J
:FFJ K
falseFFL Q
)FFQ R
}GG 
,GG 
constraintsHH 
:HH 
tableHH "
=>HH# %
{II 
tableJJ 
.JJ 

PrimaryKeyJJ $
(JJ$ %
$strJJ% 9
,JJ9 :
xJJ; <
=>JJ= ?
newJJ@ C
{JJD E
xJJF G
.JJG H
StarterSetIdJJH T
,JJT U
xJJV W
.JJW X
ItemIdJJX ^
}JJ_ `
)JJ` a
;JJa b
tableKK 
.KK 

ForeignKeyKK $
(KK$ %
nameLL 
:LL 
$strLL N
,LLN O
columnMM 
:MM 
xMM  !
=>MM" $
xMM% &
.MM& '
StarterSetIdMM' 3
,MM3 4
principalTableNN &
:NN& '
$strNN( 8
,NN8 9
principalColumnOO '
:OO' (
$strOO) -
,OO- .
onDeletePP  
:PP  !
ReferentialActionPP" 3
.PP3 4
CascadePP4 ;
)PP; <
;PP< =
}QQ 
)QQ 
;QQ 
}RR 	
	protectedTT 
overrideTT 
voidTT 
DownTT  $
(TT$ %
MigrationBuilderTT% 5
migrationBuilderTT6 F
)TTF G
{UU 	
migrationBuilderVV 
.VV 
	DropTableVV &
(VV& '
nameWW 
:WW 
$strWW !
)WW! "
;WW" #
migrationBuilderYY 
.YY 
	DropTableYY &
(YY& '
nameZZ 
:ZZ 
$strZZ  
)ZZ  !
;ZZ! "
migrationBuilder\\ 
.\\ 
	DropTable\\ &
(\\& '
name]] 
:]] 
$str]] '
)]]' (
;]]( )
migrationBuilder__ 
.__ 
	DropTable__ &
(__& '
name`` 
:`` 
$str`` &
)``& '
;``' (
migrationBuilderbb 
.bb 
CreateTablebb (
(bb( )
namecc 
:cc 
$strcc  
,cc  !
columnsdd 
:dd 
tabledd 
=>dd !
newdd" %
{ee 
Idff 
=ff 
tableff 
.ff 
Columnff %
<ff% &
intff& )
>ff) *
(ff* +
typeff+ /
:ff/ 0
$strff1 :
,ff: ;
nullableff< D
:ffD E
falseffF K
)ffK L
.gg 

Annotationgg #
(gg# $
$strgg$ :
,gg: ;
truegg< @
)gg@ A
,ggA B
Basehh 
=hh 
tablehh  
.hh  !
Columnhh! '
<hh' (
inthh( +
>hh+ ,
(hh, -
typehh- 1
:hh1 2
$strhh3 <
,hh< =
nullablehh> F
:hhF G
falsehhH M
)hhM N
,hhN O
ItemIdii 
=ii 
tableii "
.ii" #
Columnii# )
<ii) *
intii* -
>ii- .
(ii. /
typeii/ 3
:ii3 4
$strii5 >
,ii> ?
nullableii@ H
:iiH I
falseiiJ O
)iiO P
,iiP Q
Purchasablejj 
=jj  !
tablejj" '
.jj' (
Columnjj( .
<jj. /
booljj/ 3
>jj3 4
(jj4 5
typejj5 9
:jj9 :
$strjj; D
,jjD E
nullablejjF N
:jjN O
falsejjP U
)jjU V
,jjV W
Sellkk 
=kk 
tablekk  
.kk  !
Columnkk! '
<kk' (
intkk( +
>kk+ ,
(kk, -
typekk- 1
:kk1 2
$strkk3 <
,kk< =
nullablekk> F
:kkF G
falsekkH M
)kkM N
,kkN O
Totalll 
=ll 
tablell !
.ll! "
Columnll" (
<ll( )
intll) ,
>ll, -
(ll- .
typell. 2
:ll2 3
$strll4 =
,ll= >
nullablell? G
:llG H
falsellI N
)llN O
}mm 
,mm 
constraintsnn 
:nn 
tablenn "
=>nn# %
{oo 
tablepp 
.pp 

PrimaryKeypp $
(pp$ %
$strpp% 2
,pp2 3
xpp4 5
=>pp6 8
xpp9 :
.pp: ;
Idpp; =
)pp= >
;pp> ?
tableqq 
.qq 

ForeignKeyqq $
(qq$ %
namerr 
:rr 
$strrr 8
,rr8 9
columnss 
:ss 
xss  !
=>ss" $
xss% &
.ss& '
ItemIdss' -
,ss- .
principalTablett &
:tt& '
$strtt( /
,tt/ 0
principalColumnuu '
:uu' (
$struu) -
,uu- .
onDeletevv  
:vv  !
ReferentialActionvv" 3
.vv3 4
Cascadevv4 ;
)vv; <
;vv< =
}ww 
)ww 
;ww 
migrationBuilderyy 
.yy 
CreateIndexyy (
(yy( )
namezz 
:zz 
$strzz *
,zz* +
table{{ 
:{{ 
$str{{ !
,{{! "
column|| 
:|| 
$str||  
,||  !
unique}} 
:}} 
true}} 
)}} 
;}} 
}~~ 	
} 
} ¸
aC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Champion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
Champion 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public		 
string		 
Title		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
Blurb

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
RiotId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
static 
Champion 
FromRiotChampion /
(/ 0
RiotChampion0 <
riotChampion= I
)I J
{ 	
return 
new 
( 
) 
{ 
Id 
= 
int 
. 
Parse 
( 
riotChampion +
.+ ,
Key, /
)/ 0
,0 1
Name 
= 
riotChampion #
.# $
Name$ (
,( )
Title 
= 
riotChampion $
.$ %
Title% *
,* +
Blurb 
= 
riotChampion $
.$ %
Blurb% *
,* +
RiotId 
= 
riotChampion %
.% &
Id& (
} 
; 
} 	
} 
} È	
bC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\IItemData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

	interface 
	IItemData 
{ 
public 
int 

ChampionId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
	UggRegion 
Region 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
UggRank		 
Rank		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
UggRole

 
Role

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
} â)
]C:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Item.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 
class	 
Item 
{ 
public		 

int		 
Id		 
{		 
get		 
;		 
set		 
;		 
}		 
public

 

string

 
Name

 
{

 
get

 
;

 
set

 !
;

! "
}

# $
public 

string 
Description 
{ 
get  #
;# $
set% (
;( )
}* +
public 

string 
Colloq 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
	Plaintext 
{ 
get !
;! "
set# &
;& '
}( )
public 

int 
Depth 
{ 
get 
; 
set 
;  
}! "
public 

List 
< 
ItemData 
> 
ItemData "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 
	NotMapped 
] 
public 

List 
< 
string 
> 
From 
{ 
get "
;" #
set$ '
;' (
}) *
[ 
	NotMapped 
] 
public 

	ItemImage 
Image 
{ 
get  
;  !
set" %
;% &
}' (
[ 
	NotMapped 
] 
public 

ItemGold 
Gold 
{ 
get 
; 
set  #
;# $
}% &
[ 
	NotMapped 
] 
public 

List 
< 
string 
> 
Tags 
{ 
get "
;" #
set$ '
;' (
}) *
[ 
	NotMapped 
] 
public 


Dictionary 
< 
int 
, 
bool 
>  
Maps! %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 
	NotMapped 
] 
public 


Dictionary 
< 
string 
, 
float #
># $
Stats% *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
[ 
	NotMapped 
] 
public 


Dictionary 
< 
string 
, 
string $
>$ %
Effect& ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
}   
public"" 
class""	 
	ItemImage"" 
{## 
public$$ 

string$$ 
Full$$ 
{$$ 
get$$ 
;$$ 
set$$ !
;$$! "
}$$# $
public%% 

string%% 
Sprite%% 
{%% 
get%% 
;%% 
set%%  #
;%%# $
}%%% &
public&& 

string&& 
Group&& 
{&& 
get&& 
;&& 
set&& "
;&&" #
}&&$ %
public'' 

int'' 
X'' 
{'' 
get'' 
;'' 
set'' 
;'' 
}'' 
public(( 

int(( 
Y(( 
{(( 
get(( 
;(( 
set(( 
;(( 
}(( 
public)) 

int)) 
W)) 
{)) 
get)) 
;)) 
set)) 
;)) 
})) 
public** 

int** 
H** 
{** 
get** 
;** 
set** 
;** 
}** 
}++ 
public-- 
class--	 
ItemGold-- 
{.. 
public// 

int// 
Id// 
{// 
get// 
;// 
set// 
;// 
}// 
public00 

int00 
ItemId00 
{00 
get00 
;00 
set00  
;00  !
}00" #
public11 

int11 
Base11 
{11 
get11 
;11 
set11 
;11 
}11  !
public22 

int22 
Total22 
{22 
get22 
;22 
set22 
;22  
}22! "
public33 

int33 
Sell33 
{33 
get33 
;33 
set33 
;33 
}33  !
public44 

bool44 
Purchasable44 
{44 
get44 !
;44! "
set44# &
;44& '
}44( )
}55 
}66 á!
dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\ItemContext.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
ItemContext 
: 
	DbContext (
{ 
public 
ItemContext 
( 
DbContextOptions +
<+ ,
ItemContext, 7
>7 8
options9 @
)@ A
:B C
baseD H
(H I
optionsI P
)P Q
{ 	
}		 	
	protected 
override 
void 
OnConfiguring  -
(- .#
DbContextOptionsBuilder. E
optionsBuilderF T
)T U
{ 	
optionsBuilder 
. 
	UseSqlite $
($ %
$str% 7
)7 8
;8 9
} 	
public 
DbSet 
< 
Item 
> 
Items  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Champion 
> 
	Champions (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
ItemData 
> 
ItemData '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
StarterSetData #
># $
StarterSetData% 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
DbSet 
< 
StarterSetItem #
># $
StarterSetItems% 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Item  $
>$ %
(% &
)& '
. 
HasMany 
( 
i 
=> 
i 
.  
ItemData  (
)( )
. 
WithOne 
( 
d 
=> 
d 
.  
Item  $
)$ %
;% &
modelBuilder 
. 
Entity 
<  
ItemData  (
>( )
() *
)* +
. 
HasKey 
( 
i 
=> 
new  
{! "
i" #
.# $
ItemId$ *
,* +
i, -
.- .

ChampionId. 8
,8 9
i: ;
.; <
Rank< @
,@ A
iB C
.C D
OrderD I
,I J
iK L
.L M
RegionM S
,S T
iU V
.V W
RoleW [
}[ \
)] ^
;^ _
modelBuilder!! 
.!! 
Entity!! 
<!!  
StarterSetData!!  .
>!!. /
(!!/ 0
)!!0 1
."" 
HasMany"" 
("" 
p"" 
=>"" 
p"" 
.""  
Items""  %
)""% &
.## 
WithOne## 
(## 
b## 
=>## 
b## 
.##  

StarterSet##  *
)##* +
.$$ 

IsRequired$$ 
($$ 
)$$ 
;$$ 
modelBuilder&& 
.&& 
Entity&& 
<&&  
StarterSetItem&&  .
>&&. /
(&&/ 0
)&&0 1
.'' 
HasKey'' 
('' 
i'' 
=>'' 
new''  
{''! "
i''" #
.''# $
StarterSetId''$ 0
,''0 1
i''2 3
.''3 4
ItemId''4 :
}'': ;
)''; <
;''< =
}(( 	
})) 
}** «
aC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\ItemData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
ItemData 
: 
	IItemData %
{ 
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public 
Item 
Item 
{ 
get 
; 
set  #
;# $
}% &
public

 
int

 

ChampionId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
	UggRegion 
Region 
{  !
get" %
;% &
set' *
;* +
}, -
public 
UggRank 
Rank 
{ 
get !
;! "
set# &
;& '
}( )
public 
UggRole 
Role 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Order 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
} 
cC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\ItemFilter.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 

ItemFilter 
{ 
public 
UggRole 
Role 
{ 
get !
;! "
set# &
;& '
}( )
=* +
UggRole, 3
.3 4
None4 8
;8 9
public 
	UggRegion 
Region 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
	UggRegion0 9
.9 :
World: ?
;? @
public		 
UggRank		 
Rank		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
=		* +
UggRank		, 3
.		3 4
PlatinumPlus		4 @
;		@ A
}

 
} ¢8
jC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotChampion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{ 
public 

class 
RiotChampion 
{ 
public 
string 
Version 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public		 
string		 
Key		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Blurb 
{ 
get !
;! "
set# &
;& '
}( )
public 
ChampionInfo 
Info  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
ChampionImage 
Image "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
List 
< 
string 
> 
Tags  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Partype 
{ 
get  #
;# $
set% (
;( )
}* +
public 
ChampionStats 
Stats "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
public 

class 
ChampionInfo 
{ 
public 
int 
Attack 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Defense 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Magic 
{ 
get 
; 
set  #
;# $
}% &
public 
int 

Difficulty 
{ 
get  #
;# $
set% (
;( )
}* +
} 
public 

class 
ChampionImage 
{ 
public 
string 
Full 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Sprite 
{ 
get "
;" #
set$ '
;' (
}) *
public   
string   
Group   
{   
get   !
;  ! "
set  # &
;  & '
}  ( )
public!! 
int!! 
X!! 
{!! 
get!! 
;!! 
set!! 
;!!  
}!!! "
public"" 
int"" 
Y"" 
{"" 
get"" 
;"" 
set"" 
;""  
}""! "
public## 
int## 
W## 
{## 
get## 
;## 
set## 
;##  
}##! "
public$$ 
int$$ 
H$$ 
{$$ 
get$$ 
;$$ 
set$$ 
;$$  
}$$! "
}%% 
public'' 

class'' 
ChampionStats'' 
{(( 
public)) 
double)) 
Hp)) 
{)) 
get)) 
;)) 
set))  #
;))# $
}))% &
public** 
double** 

Hpperlevel**  
{**! "
get**# &
;**& '
set**( +
;**+ ,
}**- .
public++ 
double++ 
Mp++ 
{++ 
get++ 
;++ 
set++  #
;++# $
}++% &
public,, 
double,, 

Mpperlevel,,  
{,,! "
get,,# &
;,,& '
set,,( +
;,,+ ,
},,- .
public-- 
double-- 
	Movespeed-- 
{--  !
get--" %
;--% &
set--' *
;--* +
}--, -
public.. 
double.. 
Armor.. 
{.. 
get.. !
;..! "
set..# &
;..& '
}..( )
public// 
double// 
Armorperlevel// #
{//$ %
get//& )
;//) *
set//+ .
;//. /
}//0 1
public00 
double00 

Spellblock00  
{00! "
get00# &
;00& '
set00( +
;00+ ,
}00- .
public11 
double11 
Spellblockperlevel11 (
{11) *
get11+ .
;11. /
set110 3
;113 4
}115 6
public22 
double22 
Attackrange22 !
{22" #
get22$ '
;22' (
set22) ,
;22, -
}22. /
public33 
double33 
Hpregen33 
{33 
get33  #
;33# $
set33% (
;33( )
}33* +
public44 
double44 
Hpregenperlevel44 %
{44& '
get44( +
;44+ ,
set44- 0
;440 1
}442 3
public55 
double55 
Mpregen55 
{55 
get55  #
;55# $
set55% (
;55( )
}55* +
public66 
double66 
Mpregenperlevel66 %
{66& '
get66( +
;66+ ,
set66- 0
;660 1
}662 3
public77 
double77 
Crit77 
{77 
get77  
;77  !
set77" %
;77% &
}77' (
public88 
double88 
Critperlevel88 "
{88# $
get88% (
;88( )
set88* -
;88- .
}88/ 0
public99 
double99 
Attackdamage99 "
{99# $
get99% (
;99( )
set99* -
;99- .
}99/ 0
public:: 
double::  
Attackdamageperlevel:: *
{::+ ,
get::- 0
;::0 1
set::2 5
;::5 6
}::7 8
public;; 
double;; 
Attackspeedperlevel;; )
{;;* +
get;;, /
;;;/ 0
set;;1 4
;;;4 5
};;6 7
public<< 
double<< 
Attackspeed<< !
{<<" #
get<<$ '
;<<' (
set<<) ,
;<<, -
}<<. /
}== 
}>> ­
rC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotChampionResponse.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{ 
public 

class  
RiotChampionResponse %
{ 
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Format 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
string		 
Version		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 

Dictionary

 
<

 
string

  
,

  !
RiotChampion

" .
>

. /
Data

0 4
{

5 6
get

7 :
;

: ;
set

< ?
;

? @
}

A B
} 
} ¹.
nC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Riot\RiotItemResponse.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Riot #
{$ %
public 

class 
RiotItemResponse !
{ 
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Version 
{ 
get  #
;# $
set% (
;( )
}* +
public		 
Basic		 
Basic		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 

Dictionary

 
<

 
int

 
,

 
Item

 #
>

# $
Data

% )
{

* +
get

, /
;

/ 0
set

1 4
;

4 5
}

6 7
public 
List 
< 
Group 
> 
Groups !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
List 
< 
Tree 
> 
Tree 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
public 

class 
Basic 
{ 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
Rune 
Rune 
{ 
get 
; 
set  #
;# $
}% &
public 
ItemGold 
ItemGold  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Group 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Colloq 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Plaintext 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 
Consumed 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Stacks 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Depth 
{ 
get 
; 
set  #
;# $
}% &
public 
bool 
ConsumeOnFull !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
List 
< 
object 
> 
From  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
List 
< 
object 
> 
Into  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
SpecialRecipe  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
InStore 
{ 
get !
;! "
set# &
;& '
}( )
public   
bool   
HideFromAll   
{    !
get  " %
;  % &
set  ' *
;  * +
}  , -
public!! 
string!! 
RequiredChampion!! &
{!!' (
get!!) ,
;!!, -
set!!. 1
;!!1 2
}!!3 4
public"" 
string"" 
RequiredAlly"" "
{""# $
get""% (
;""( )
set""* -
;""- .
}""/ 0
public## 

Dictionary## 
<## 
string##  
,##  !
float##" '
>##' (
Stats##) .
{##/ 0
get##1 4
;##4 5
set##6 9
;##9 :
}##; <
public$$ 
List$$ 
<$$ 
object$$ 
>$$ 
Tags$$  
{$$! "
get$$# &
;$$& '
set$$( +
;$$+ ,
}$$- .
public%% 

Dictionary%% 
<%% 
int%% 
,%% 
bool%% #
>%%# $
Maps%%% )
{%%* +
get%%, /
;%%/ 0
set%%1 4
;%%4 5
}%%6 7
}&& 
public(( 

class(( 
Tree(( 
{)) 
public** 
string** 
Header** 
{** 
get** "
;**" #
set**$ '
;**' (
}**) *
public++ 
List++ 
<++ 
string++ 
>++ 
Tags++  
{++! "
get++# &
;++& '
set++( +
;+++ ,
}++- .
},, 
public.. 

class.. 
Group.. 
{// 
public00 
string00 
Id00 
{00 
get00 
;00 
set00  #
;00# $
}00% &
public11 
string11 
MaxGroupOwnable11 %
{11& '
get11( +
;11+ ,
set11- 0
;110 1
}112 3
}22 
}33 ê
]C:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Rune.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
Rune 
{ 
public 
bool 
Isrune 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Tier 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
Type 
{ 
get  
;  !
set" %
;% &
}' (
} 
}

 Ø
gC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\StarterSetData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
StarterSetData 
:  !
	IItemData" +
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
List		 
<		 
StarterSetItem		 "
>		" #
Items		$ )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
public

 
int

 

ChampionId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
	UggRegion 
Region 
{  !
get" %
;% &
set' *
;* +
}, -
public 
UggRank 
Rank 
{ 
get !
;! "
set# &
;& '
}( )
public 
UggRole 
Role 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ª
gC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\StarterSetItem.cs
	namespace 	
LeagueOfItems
 
. 
Models 
{ 
public 

class 
StarterSetItem 
{ 
public 
int 
StarterSetId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
StarterSetData 

StarterSet (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Quantity 
{ 
get !
;! "
set# &
;& '
}( )
}		 
}

 
hC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggItemData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggItemData 
{ 
public 
int 
ItemId 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public 
int 
Matches 
{ 
get  
;  !
set" %
;% &
}' (
} 
}		 	
mC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggItemTableData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggItemTableData !
{ 
public 
int 

ChampionId 
{ 
get  #
;# $
set% (
;( )
}* +
public		 

Dictionary		 
<		 
	UggRegion		 #
,		# $

Dictionary		% /
<		/ 0
UggRank		0 7
,		7 8

Dictionary		9 C
<		C D
UggRole		D K
,		K L
(		M N
List		N R
<		R S
UggStarterSetData		S d
>		d e
,		e f
List		g k
<		k l
List		l p
<		p q
UggItemData		q |
>		| }
>		} ~
)		~ 
>			 
>
		 
>
		 
Data
		 
{
		 
get
		 
;
		 
set
		 
;
		 
}
		 
}

 
} ç

dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRank.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
UggRank 
{ 

Challenger 
= 
$num 
, 
Master 
= 
$num 
, 
Diamond 
= 
$num 
, 
Platinum 
= 
$num 
, 
Gold		 
=		 
$num		 
,		 
Silver

 
=

 
$num

 
,

 
Bronze 
= 
$num 
, 
Overall 
= 
$num 
, 
Unknown 
= 
$num 
, 
PlatinumPlus 
= 
$num 
, 
DiamondPlus 
= 
$num 
, 
Iron 
= 
$num 
, 
Grandmaster 
= 
$num 
, 

MasterPlus 
= 
$num 
, 
Diamond2Plus 
= 
$num 
, 
} 
} Ï
fC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRegion.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
	UggRegion 
{ 
Na1 
= 
$num 
, 
Euw1 
= 
$num 
, 
Kr 

= 
$num 
, 
Eun1 
= 
$num 
, 
Br1		 
=		 
$num		 
,		 
La1

 
=

 
$num

 
,

 
La2 
= 
$num 
, 
Oc1 
= 
$num 
, 
Ru 

= 
$num 
, 
Tr1 
= 
$num 
, 
Jp1 
= 
$num 
, 
World 
= 
$num 
} 
} È
dC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggRole.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

enum 
UggRole 
{ 
Jungle 
= 
$num 
, 
Supp 
= 
$num 
, 
Adc 
= 
$num 
, 
Top 
= 
$num 
, 
Mid		 
=		 
$num		 
,		 
None

 
=

 
$num

 
} 
} Ö
nC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Models\Ugg\UggStarterSetData.cs
	namespace 	
LeagueOfItems
 
. 
Models 
. 
Ugg "
{ 
public 

class 
UggStarterSetData "
{ 
public 
List 
< 
int 
> 
ItemIds  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
Wins 
{ 
get 
; 
set "
;" #
}$ %
public		 
int		 
Matches		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
}

 
} ´

YC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Program.cs
	namespace 	
LeagueOfItems
 
{ 
public 
class	 
Program 
{ 
public 

static 
void 
Main 
( 
string "
[" #
]# $
args% )
)) *
{		 
CreateHostBuilder

 
(

 
args

 
)

 
.

 
Build

 #
(

# $
)

$ %
.

% &
Run

& )
(

) *
)

* +
;

+ ,
} 
public 

static 
IHostBuilder 
CreateHostBuilder 0
(0 1
string1 7
[7 8
]8 9
args: >
)> ?
=>@ B
Host 
.  
CreateDefaultBuilder !
(! "
args" &
)& '
. $
ConfigureWebHostDefaults %
(% &

webBuilder& 0
=>1 3
{ 

webBuilder 
. 

UseStartup #
<# $
Startup$ +
>+ ,
(, -
)- .
;. /
} 
) 
; 
} 
} 9
fC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Services\ItemService.cs
	namespace 	
LeagueOfItems
 
. 
Services  
{ 
public 

	interface 
IItemService !
{ 
Task 
< 
List 
< 
ItemViewModel 
>  
>  !
GetAllItems" -
(- .

ItemFilter. 8
filter9 ?
)? @
;@ A
Task 
< 
ItemViewModel 
> 
GetItemStats (
(( )
int) ,
id- /
,/ 0

ItemFilter1 ;
filter< B
)B C
;C D
} 
public 

class 
ItemService 
: 
IItemService +
{ 
private 
readonly 
ILogger  
<  !
ItemService! ,
>, -
_logger. 5
;5 6
private 
readonly 
ItemContext $
_context% -
;- .
private 
readonly 
IMapper  
_mapper! (
;( )
public 
ItemService 
( 
ILogger "
<" #
ItemService# .
>. /
logger0 6
,6 7
ItemContext8 C
contextD K
,K L
IMapperM T
mapperU [
)[ \
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_mapper 
= 
mapper 
; 
} 	
public   
async   
Task   
<   
List   
<   
ItemViewModel   ,
>  , -
>  - .
GetAllItems  / :
(  : ;

ItemFilter  ; E
filter  F L
)  L M
{!! 	
var"" 
items"" 
="" 
await"" 
_context"" &
.""& '
Items""' ,
.## 
Include## 
(## 
i## 
=>## 
i## 
.##  
ItemData##  (
.##( )
Where##) .
(##. /
d##/ 0
=>##1 3
d$$ 
.$$ 
Rank$$ 
==$$ 
filter$$ $
.$$$ %
Rank$$% )
&&$$* ,
d$$- .
.$$. /
Region$$/ 5
==$$6 8
filter$$9 ?
.$$? @
Region$$@ F
&&$$G I
(%% 
d%% 
.%% 
Role%% 
==%% 
filter%% %
.%%% &
Role%%& *
||%%+ -
filter%%. 4
.%%4 5
Role%%5 9
==%%: <
UggRole%%= D
.%%D E
None%%E I
)%%I J
)%%J K
)%%K L
.&& 
Where&& 
(&& 
i&& 
=>&& 
i&& 
.&& 
ItemData&& &
.&&& '
Count&&' ,
!=&&- /
$num&&0 1
)&&1 2
.'' 
OrderBy'' 
('' 
i'' 
=>'' 
i'' 
.''  
Name''  $
)''$ %
.(( 
ToListAsync(( 
((( 
)(( 
;(( 
var** 
itemVms** 
=** 
_mapper** !
.**! "
Map**" %
<**% &
List**& *
<*** +
ItemViewModel**+ 8
>**8 9
>**9 :
(**: ;
items**; @
)**@ A
;**A B
foreach++ 
(++ 
var++ 
itemVm++ 
in++  "
itemVms++# *
)++* +
{,, 
itemVm-- 
.-- 
Wins-- 
=-- 
itemVm-- $
.--$ %
ItemData--% -
.--- .
Select--. 4
(--4 5
d--5 6
=>--7 9
d--: ;
.--; <
Wins--< @
)--@ A
.--A B
	Aggregate--B K
(--K L
$num--L M
,--M N
(--O P
a--P Q
,--Q R
b--S T
)--T U
=>--V X
a--Y Z
+--[ \
b--] ^
)--^ _
;--_ `
itemVm.. 
... 
Matches.. 
=..  
itemVm..! '
...' (
ItemData..( 0
...0 1
Select..1 7
(..7 8
d..8 9
=>..: <
d..= >
...> ?
Matches..? F
)..F G
...G H
	Aggregate..H Q
(..Q R
$num..R S
,..S T
(..U V
a..V W
,..W X
b..Y Z
)..Z [
=>..\ ^
a.._ `
+..a b
b..c d
)..d e
;..e f
itemVm// 
.// 
ItemData// 
=//  !
null//" &
;//& '
}00 
return22 
itemVms22 
;22 
}33 	
public55 
async55 
Task55 
<55 
ItemViewModel55 '
>55' (
GetItemStats55) 5
(555 6
int556 9
id55: <
,55< =

ItemFilter55> H
filter55I O
)55O P
{66 	
var77 
item77 
=77 
await77 
_context77 %
.77% &
Items77& +
.88 
Include88 
(88 
i88 
=>88 
i88 
.88  
ItemData88  (
.88( )
Where88) .
(88. /
d88/ 0
=>881 3
d99 
.99 
Rank99 
==99 
filter99 $
.99$ %
Rank99% )
&&99* ,
d99- .
.99. /
Region99/ 5
==996 8
filter999 ?
.99? @
Region99@ F
&&99G I
(:: 
d:: 
.:: 
Role:: 
==:: 
filter:: %
.::% &
Role::& *
||::+ -
filter::. 4
.::4 5
Role::5 9
==::: <
UggRole::= D
.::D E
None::E I
)::I J
)::J K
)::K L
.;; 
Where;; 
(;; 
i;; 
=>;; 
i;; 
.;; 
ItemData;; &
.;;& '
Count;;' ,
!=;;- /
$num;;0 1
);;1 2
.<< 
SingleAsync<< 
(<< 
i<< 
=><< !
i<<" #
.<<# $
Id<<$ &
==<<' )
id<<* ,
)<<, -
;<<- .
var>> 
itemVm>> 
=>> 
_mapper>>  
.>>  !
Map>>! $
<>>$ %
ItemViewModel>>% 2
>>>2 3
(>>3 4
item>>4 8
)>>8 9
;>>9 :
itemVm@@ 
.@@ 
ItemData@@ 
.@@ 
ForEach@@ #
(@@# $
d@@$ %
=>@@& (
{AA 
dBB 
.BB 
ItemBB 
=BB 
nullBB 
;BB 
}CC 
)CC 
;CC 
returnEE 
itemVmEE 
;EE 
}FF 	
}GG 
}HH ÁS
jC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Services\RiotDataService.cs
	namespace 	
LeagueOfItems
 
. 
Services  
{ 
public 

	interface 
IRiotDataService %
{ 
Task 
< 
List 
< 
Item 
> 
> 
GetItems !
(! "
)" #
;# $
Task 
	SaveItems 
( 
List 
< 
Item  
>  !
items" '
)' (
;( )
Task 
< 
List 
< 
Champion 
> 
> 
GetChampions )
() *
)* +
;+ ,
Task 
SaveChampions 
( 
List 
<  
Champion  (
>( )
	champions* 3
)3 4
;4 5
} 
public 

class 
RiotDataService  
:! "
IRiotDataService# 3
{ 
private 
readonly 
ILogger  
<  !
RiotDataService! 0
>0 1
_logger2 9
;9 :
private 
readonly 
ItemContext $
_context% -
;- .
private 
readonly 
string 
_baseUrl  (
=) *
$str+ Q
;Q R
private 
readonly 

HttpClient #
_client$ +
;+ ,
public 
RiotDataService 
( 
ILogger &
<& '
RiotDataService' 6
>6 7
logger8 >
,> ?
IHttpClientFactory@ R
clientFactoryS `
,` a
ItemContextb m
contextn u
)u v
{ 	
_logger 
= 
logger 
; 
_context   
=   
context   
;   
_client"" 
="" 
clientFactory"" #
.""# $
CreateClient""$ 0
(""0 1
)""1 2
;""2 3
}## 	
private%% 
async%% 
Task%% 
<%% 
string%% !
>%%! "
GetCurrentVersion%%# 4
(%%4 5
)%%5 6
{&& 	
var'' 
response'' 
='' 
await''  
_client''! (
.''( )
GetAsync'') 1
(''1 2
_baseUrl''2 :
+''; <
$str''= P
)''P Q
;''Q R
response(( 
.(( #
EnsureSuccessStatusCode(( ,
(((, -
)((- .
;((. /
await** 
using** 
var** 
responseStream** *
=**+ ,
await**- 2
response**3 ;
.**; <
Content**< C
.**C D
ReadAsStreamAsync**D U
(**U V
)**V W
;**W X
var,, 
versions,, 
=,, 
await,,  
JsonSerializer,,! /
.,,/ 0
DeserializeAsync,,0 @
<,,@ A
List,,A E
<,,E F
string,,F L
>,,L M
>,,M N
(,,N O
responseStream,,O ]
),,] ^
;,,^ _
var-- 
currentVersion-- 
=--  
versions--! )
[--) *
$num--* +
]--+ ,
;--, -
_logger// 
.// 
LogInformation// "
(//" #
$str//# >
,//> ?
currentVersion//@ N
)//N O
;//O P
return11 
currentVersion11 !
;11! "
}22 	
public44 
async44 
Task44 
<44 
List44 
<44 
Item44 #
>44# $
>44$ %
GetItems44& .
(44. /
)44/ 0
{55 	
var66 
version66 
=66 
await66 
GetCurrentVersion66  1
(661 2
)662 3
;663 4
var77 
response77 
=77 
await77  
_client77! (
.77( )
GetAsync77) 1
(771 2
_baseUrl772 :
+77; <
$"77= ?
cdn/77? C
{77C D
version77D K
}77K L!
/data/en_US/item.json77L a
"77a b
)77b c
;77c d
response88 
.88 #
EnsureSuccessStatusCode88 ,
(88, -
)88- .
;88. /
await:: 
using:: 
var:: 
responseStream:: *
=::+ ,
await::- 2
response::3 ;
.::; <
Content::< C
.::C D
ReadAsStreamAsync::D U
(::U V
)::V W
;::W X
var<< 
itemResponse<< 
=<< 
await<< $
JsonSerializer<<% 3
.<<3 4
DeserializeAsync<<4 D
<<<D E
RiotItemResponse<<E U
><<U V
(<<V W
responseStream<<W e
,<<e f
new<<g j"
JsonSerializerOptions	<<k 
{== '
PropertyNameCaseInsensitive>> +
=>>, -
true>>. 2
}?? 
)?? 
;?? 
foreachAA 
(AA 
varAA 
(AA 
idAA 
,AA 
itemAA "
)AA" #
inAA$ &
itemResponseAA' 3
.AA3 4
DataAA4 8
)AA8 9
{BB 
itemCC 
.CC 
IdCC 
=CC 
idCC 
;CC 
}DD 
varFF 
itemsFF 
=FF 
itemResponseFF $
.FF$ %
DataFF% )
.FF) *
ValuesFF* 0
.FF0 1
ToListFF1 7
(FF7 8
)FF8 9
;FF9 :
_loggerHH 
.HH 
LogInformationHH "
(HH" #
$strHH# =
,HH= >
itemsHH? D
.HHD E
CountHHE J
)HHJ K
;HHK L
returnJJ 
itemsJJ 
;JJ 
}KK 	
publicMM 
asyncMM 
TaskMM 
	SaveItemsMM #
(MM# $
ListMM$ (
<MM( )
ItemMM) -
>MM- .
itemsMM/ 4
)MM4 5
{NN 	
varOO 
deletedOO 
=OO 
awaitOO 
_contextOO  (
.OO( )
DatabaseOO) 1
.OO1 2
ExecuteSqlRawAsyncOO2 D
(OOD E
$strOOE Y
)OOY Z
;OOZ [
_loggerQQ 
.QQ 
LogInformationQQ "
(QQ" #
$strQQ# ?
,QQ? @
deletedQQA H
)QQH I
;QQI J
_contextSS 
.SS 
ItemsSS 
.SS 
AddRangeSS #
(SS# $
itemsSS$ )
)SS) *
;SS* +
awaitUU 
_contextUU 
.UU 
SaveChangesAsyncUU +
(UU+ ,
)UU, -
;UU- .
_loggerWW 
.WW 
LogInformationWW "
(WW" #
$strWW# =
,WW= >
itemsWW? D
.WWD E
CountWWE J
)WWJ K
;WWK L
}XX 	
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
ListZZ 
<ZZ 
ChampionZZ '
>ZZ' (
>ZZ( )
GetChampionsZZ* 6
(ZZ6 7
)ZZ7 8
{[[ 	
var\\ 
version\\ 
=\\ 
await\\ 
GetCurrentVersion\\  1
(\\1 2
)\\2 3
;\\3 4
var]] 
response]] 
=]] 
await]]  
_client]]! (
.]]( )
GetAsync]]) 1
(]]1 2
_baseUrl]]2 :
+]]; <
$"]]= ?
cdn/]]? C
{]]C D
version]]D K
}]]K L%
/data/en_US/champion.json]]L e
"]]e f
)]]f g
;]]g h
response^^ 
.^^ #
EnsureSuccessStatusCode^^ ,
(^^, -
)^^- .
;^^. /
await`` 
using`` 
var`` 
responseStream`` *
=``+ ,
await``- 2
response``3 ;
.``; <
Content``< C
.``C D
ReadAsStreamAsync``D U
(``U V
)``V W
;``W X
varbb 
championResponsebb  
=bb! "
awaitbb# (
JsonSerializerbb) 7
.bb7 8
DeserializeAsyncbb8 H
<bbH I 
RiotChampionResponsebbI ]
>bb] ^
(bb^ _
responseStreambb_ m
,bbm n
newbbo r"
JsonSerializerOptions	bbs 
{cc '
PropertyNameCaseInsensitivedd +
=dd, -
truedd. 2
}ee 
)ee 
;ee 
vargg 
	championsgg 
=gg 
championResponsegg ,
.gg, -
Datagg- 1
.gg1 2
Valuesgg2 8
.gg8 9
Selectgg9 ?
(gg? @
Championgg@ H
.ggH I
FromRiotChampionggI Y
)ggY Z
.ggZ [
ToListgg[ a
(gga b
)ggb c
;ggc d
_loggerii 
.ii 
LogInformationii "
(ii" #
$strii# A
,iiA B
	championsiiC L
.iiL M
CountiiM R
)iiR S
;iiS T
returnkk 
	championskk 
;kk 
}ll 	
publicnn 
asyncnn 
Tasknn 
SaveChampionsnn '
(nn' (
Listnn( ,
<nn, -
Championnn- 5
>nn5 6
	championsnn7 @
)nn@ A
{oo 	
varpp 
deletedpp 
=pp 
awaitpp 
_contextpp  (
.pp( )
Databasepp) 1
.pp1 2
ExecuteSqlRawAsyncpp2 D
(ppD E
$strppE ]
)pp] ^
;pp^ _
_loggerrr 
.rr 
LogInformationrr "
(rr" #
$strrr# G
,rrG H
deletedrrI P
)rrP Q
;rrQ R
_contexttt 
.tt 
	Championstt 
.tt 
AddRangett '
(tt' (
	championstt( 1
)tt1 2
;tt2 3
awaitvv 
_contextvv 
.vv 
SaveChangesAsyncvv +
(vv+ ,
)vv, -
;vv- .
_loggerxx 
.xx 
LogInformationxx "
(xx" #
$strxx# E
,xxE F
	championsxxG P
.xxP Q
CountxxQ V
)xxV W
;xxW X
}yy 	
}zz 
}{{ Ðµ
iC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Services\UggDataService.cs
	namespace 	
LeagueOfItems
 
. 
Services  
{ 
public 

	interface 
IUggDataService $
{ 
public 
Task 
SaveForAllChampions '
(' (
)( )
;) *
} 
public 

class 
UggDataService 
:  !
IUggDataService" 1
{ 
private 
readonly 
ILogger  
<  !
UggDataService! /
>/ 0
_logger1 8
;8 9
private 
readonly 
string 
_baseUrl  (
=) *
$str+ A
;A B
private 
readonly 

HttpClient #
_client$ +
;+ ,
private 
readonly 
ItemContext $
_context% -
;- .
public 
UggDataService 
( 
ILogger %
<% &
UggDataService& 4
>4 5
logger6 <
,< =
IHttpClientFactory> P
clientFactoryQ ^
,^ _
ItemContext` k
contextl s
)s t
{ 	
_logger 
= 
logger 
; 
_context 
= 
context 
; 
_client 
= 
clientFactory #
.# $
CreateClient$ 0
(0 1
)1 2
;2 3
}   	
public"" 
async"" 
Task"" 
SaveForAllChampions"" -
(""- .
)"". /
{## 	
var$$ 
	champions$$ 
=$$ 
await$$ !
_context$$" *
.$$* +
	Champions$$+ 4
.$$4 5
ToListAsync$$5 @
($$@ A
)$$A B
;$$B C
var&& 
starterSetData&& 
=&&  
new&&! $
List&&% )
<&&) *
StarterSetData&&* 8
>&&8 9
(&&9 :
)&&: ;
;&&; <
var'' 
itemData'' 
='' 
new'' 
List'' #
<''# $
ItemData''$ ,
>'', -
(''- .
)''. /
;''/ 0
foreach)) 
()) 
var)) 
champion)) !
in))" $
	champions))% .
))). /
{** 
_logger++ 
.++ 
LogInformation++ &
(++& '
$str++' H
,++H I
champion++J R
.++R S
Name++S W
)++W X
;++X Y
var-- 
(-- 
newStarterSetData-- &
,--& '
newItemData--( 3
)--3 4
=--5 6
await--7 <
GetUggItemData--= K
(--K L
champion--L T
.--T U
Id--U W
)--W X
;--X Y
starterSetData// 
.// 
AddRange// '
(//' (
FilterItemData//( 6
(//6 7
newStarterSetData//7 H
)//H I
)//I J
;//J K
itemData00 
.00 
AddRange00 !
(00! "
FilterItemData00" 0
(000 1
newItemData001 <
)00< =
)00= >
;00> ?
}11 
await33 
SaveStarterSetData33 $
(33$ %
starterSetData33% 3
)333 4
;334 5
await44 
SaveItemData44 
(44 
itemData44 '
)44' (
;44( )
}55 	
public77 
async77 
Task77 
<77 
(77 
List77 
<77  
StarterSetData77  .
>77. /
,77/ 0
List771 5
<775 6
ItemData776 >
>77> ?
)77? @
>77@ A
GetUggItemData77B P
(77P Q
int77Q T

championId77U _
)77_ `
{88 	
var99 
response99 
=99 
await99  
_client99! (
.99( )
GetAsync99) 1
(991 2
_baseUrl992 :
+99; <
$"99= ?5
)lol/1.1/table/items/11_5/ranked_solo_5x5/99? h
{99h i

championId99i s
}99s t
/1.4.0.json99t 
"	99 
)
99 
;
99 
response:: 
.:: #
EnsureSuccessStatusCode:: ,
(::, -
)::- .
;::. /
await<< 
using<< 
var<< 
responseStream<< *
=<<+ ,
await<<- 2
response<<3 ;
.<<; <
Content<<< C
.<<C D
ReadAsStreamAsync<<D U
(<<U V
)<<V W
;<<W X
var>> 
itemData>> 
=>> 
await?? 
JsonSerializer?? $
.@@ 
DeserializeAsync@@ %
<@@% &

Dictionary@@& 0
<@@0 1
int@@1 4
,@@4 5

Dictionary@@6 @
<@@@ A
int@@A D
,@@D E

Dictionary@@F P
<@@P Q
int@@Q T
,@@T U
List@@V Z
<@@Z [
List@@[ _
<@@_ `
JsonElement@@` k
>@@k l
>@@l m
>@@m n
>@@n o
>@@o p
>@@p q
(@@q r
responseStreamAA &
)AA& '
;AA' (
varCC 
parsedItemDataCC 
=CC  
ParseUggDataCC! -
(CC- .

championIdCC. 8
,CC8 9
itemDataCC: B
)CCB C
;CCC D
varEE 
dataEE 
=EE 
UggDataToItemDataEE (
(EE( )
parsedItemDataEE) 7
)EE7 8
;EE8 9
returnGG 
dataGG 
;GG 
}HH 	
privateJJ 
UggItemTableDataJJ  
ParseUggDataJJ! -
(JJ- .
intKK 

championIdKK 
,KK 

DictionaryLL 
<LL 
intLL 
,LL 

DictionaryLL &
<LL& '
intLL' *
,LL* +

DictionaryLL, 6
<LL6 7
intLL7 :
,LL: ;
ListLL< @
<LL@ A
ListLLA E
<LLE F
JsonElementLLF Q
>LLQ R
>LLR S
>LLS T
>LLT U
>LLU V
dataLLW [
)LL[ \
{MM 	
varNN 
newDataNN 
=NN 
newNN 
UggItemTableDataNN .
{OO 

ChampionIdPP 
=PP 

championIdPP '
,PP' (
DataQQ 
=QQ 
newRR 

DictionaryRR "
<RR" #
	UggRegionRR# ,
,RR, -

DictionaryRR. 8
<RR8 9
UggRankRR9 @
,RR@ A

DictionarySS "
<SS" #
UggRoleSS# *
,SS* +
(SS, -
ListSS- 1
<SS1 2
UggStarterSetDataSS2 C
>SSC D
,SSD E
ListSSF J
<SSJ K
ListSSK O
<SSO P
UggItemDataSSP [
>SS[ \
>SS\ ]
)SS] ^
>SS^ _
>SS_ `
>SS` a
(SSa b
)SSb c
}TT 
;TT 
foreachWW 
(WW 
varWW 
(WW 
regionIndexWW %
,WW% &
rankRoleDataWW' 3
)WW3 4
inWW5 7
dataWW8 <
)WW< =
{XX 
varYY 
regionYY 
=YY 
(YY 
	UggRegionYY '
)YY' (
regionIndexYY) 4
;YY4 5
newDataZZ 
.ZZ 
DataZZ 
[ZZ 
regionZZ #
]ZZ# $
=ZZ% &
newZZ' *

DictionaryZZ+ 5
<ZZ5 6
UggRankZZ6 =
,ZZ= >

DictionaryZZ? I
<ZZI J
UggRoleZZJ Q
,ZZQ R
(ZZS T
ListZZT X
<ZZX Y
UggStarterSetDataZZY j
>ZZj k
,ZZk l
ListZZm q
<ZZq r
ListZZr v
<ZZv w
UggItemData	ZZw 
>
ZZ 
>
ZZ 
)
ZZ 
>
ZZ 
>
ZZ 
(
ZZ 
)
ZZ 
;
ZZ 
foreach\\ 
(\\ 
var\\ 
(\\ 
	rankIndex\\ '
,\\' (
roleData\\) 1
)\\1 2
in\\3 5
rankRoleData\\6 B
)\\B C
{]] 
var^^ 
rank^^ 
=^^ 
(^^  
UggRank^^  '
)^^' (
	rankIndex^^) 2
;^^2 3
newData__ 
.__ 
Data__  
[__  !
region__! '
]__' (
[__( )
rank__) -
]__- .
=__/ 0
new__1 4

Dictionary__5 ?
<__? @
UggRole__@ G
,__G H
(__I J
List__J N
<__N O
UggStarterSetData__O `
>__` a
,__a b
List__c g
<__g h
List__h l
<__l m
UggItemData__m x
>__x y
>__y z
)__z {
>__{ |
(__| }
)__} ~
;__~ 
foreachaa 
(aa 
varaa  
(aa! "
	roleIndexaa" +
,aa+ ,
itemDataaa- 5
)aa5 6
inaa7 9
roleDataaa: B
)aaB C
{bb 
varcc 
rolecc  
=cc! "
(cc# $
UggRolecc$ +
)cc+ ,
	roleIndexcc- 6
;cc6 7
varee 
newItemDataee '
=ee( )
ParseItemDataee* 7
(ee7 8
itemDataee8 @
)ee@ A
;eeA B
newDatagg 
.gg  
Datagg  $
[gg$ %
regiongg% +
]gg+ ,
[gg, -
rankgg- 1
]gg1 2
[gg2 3
rolegg3 7
]gg7 8
=gg9 :
newItemDatagg; F
;ggF G
}hh 
}ii 
}jj 
returnll 
newDatall 
;ll 
}mm 	
privateqq 
staticqq 
(qq 
Listqq 
<qq 
UggStarterSetDataqq .
>qq. /
,qq/ 0
Listqq1 5
<qq5 6
Listqq6 :
<qq: ;
UggItemDataqq; F
>qqF G
>qqG H
)qqH I
ParseItemDataqqJ W
(qqW X
ListqqX \
<qq\ ]
Listqq] a
<qqa b
JsonElementqqb m
>qqm n
>qqn o
itemDataqqp x
)qqx y
{rr 	
varss 
starterItemDatass 
=ss  !
itemDatass" *
[ss* +
$numss+ ,
]ss, -
;ss- .
varuu 
itemDataByOrderuu 
=uu  !
itemDatauu" *
.uu* +
Skipuu+ /
(uu/ 0
$numuu0 1
)uu1 2
.uu2 3
ToListuu3 9
(uu9 :
)uu: ;
;uu; <
varww 
newStarterItemDataww "
=ww# $
starterItemDataww% 4
.ww4 5
Selectww5 ;
(ww; <
startSetInfoww< H
=>wwI K
newwwL O
UggStarterSetDatawwP a
{xx 
ItemIdsyy 
=yy 
startSetInfoyy &
[yy& '
$numyy' (
]yy( )
.yy) *
EnumerateArrayyy* 8
(yy8 9
)yy9 :
.yy: ;
Selectyy; A
(yyA B
elyyB D
=>yyE G
elyyH J
.yyJ K
GetInt32yyK S
(yyS T
)yyT U
)yyU V
.yyV W
ToListyyW ]
(yy] ^
)yy^ _
,yy_ `
Winszz 
=zz 
startSetInfozz #
[zz# $
$numzz$ %
]zz% &
.zz& '
GetInt32zz' /
(zz/ 0
)zz0 1
,zz1 2
Matches{{ 
={{ 
startSetInfo{{ &
[{{& '
$num{{' (
]{{( )
.{{) *
GetInt32{{* 2
({{2 3
){{3 4
}|| 
)|| 
.|| 
ToList|| 
(|| 
)|| 
;|| 
var~~ 
newItemDataByOrder~~ "
=~~# $
itemDataByOrder~~% 4
.~~4 5
Select~~5 ;
(~~; <
itemsByOrder~~< H
=>~~I K
itemsByOrder~~L X
.~~X Y
Select~~Y _
(~~_ `
itemInfo~~` h
=>~~i k
new 
UggItemData 
{
 
ItemId
 
=
 
itemInfo
 %
[
% &
$num
& '
]
' (
.
( )
GetInt32
) 1
(
1 2
)
2 3
,
3 4
Wins
 
=
 
itemInfo
 #
[
# $
$num
$ %
]
% &
.
& '
GetInt32
' /
(
/ 0
)
0 1
,
1 2
Matches
 
=
 
itemInfo
 &
[
& '
$num
' (
]
( )
.
) *
GetInt32
* 2
(
2 3
)
3 4
}
 
)
 
.
 
ToList
 
(
 
)
 
)
 
.
 
ToList
 #
(
# $
)
$ %
;
% &
return
 
(
  
newStarterItemData
 &
,
& ' 
newItemDataByOrder
( :
)
: ;
;
; <
}
 	
private
 
static
 
(
 
List
 
<
 
StarterSetData
 +
>
+ ,
,
, -
List
. 2
<
2 3
ItemData
3 ;
>
; <
)
< =
UggDataToItemData
> O
(
O P
UggItemTableData
P `
itemTableData
a n
)
n o
{
 	
var
 
itemData
 
=
 
new
 
List
 #
<
# $
ItemData
$ ,
>
, -
(
- .
)
. /
;
/ 0
var
 
starterSetData
 
=
  
new
! $
List
% )
<
) *
StarterSetData
* 8
>
8 9
(
9 :
)
: ;
;
; <
foreach
 
(
 
var
 
(
 
region
  
,
  !
rankRoleData
" .
)
. /
in
0 2
itemTableData
3 @
.
@ A
Data
A E
)
E F
{
 
foreach
 
(
 
var
 
(
 
rank
 "
,
" #
roleData
$ ,
)
, -
in
. 0
rankRoleData
1 =
)
= >
{
 
foreach
 
(
 
var
  
(
! "
role
" &
,
& '
(
( )
uggStarterSetData
) :
,
: ; 
uggItemDataByOrder
< N
)
N O
)
O P
in
Q S
roleData
T \
)
\ ]
{
 
starterSetData
 &
.
& '
AddRange
' /
(
/ 0
uggStarterSetData
0 A
.
A B
Select
B H
(
H I
uggStarterSet
I V
=>
W Y
new
Z ]
StarterSetData
^ l
{
 

ChampionId
 &
=
' (
itemTableData
) 6
.
6 7

ChampionId
7 A
,
A B
Items
 !
=
" #
uggStarterSet
$ 1
.
1 2
ItemIds
2 9
.
9 :
GroupBy
: A
(
A B
id
B D
=>
E G
id
H J
,
J K
(
L M
id
M O
,
O P
ids
Q T
)
T U
=>
V X
new
Y \
StarterSetItem
] k
{
 
ItemId
  &
=
' (
id
) +
,
+ ,
Quantity
  (
=
) *
ids
+ .
.
. /
ToList
/ 5
(
5 6
)
6 7
.
7 8
Count
8 =
}
 
)
 
.
 
ToList
 %
(
% &
)
& '
,
' (
Matches
 #
=
$ %
uggStarterSet
& 3
.
3 4
Matches
4 ;
,
; <
Wins
  
=
! "
uggStarterSet
# 0
.
0 1
Wins
1 5
,
5 6
Rank
  
=
! "
rank
# '
,
' (
Region
   "
=
  # $
region
  % +
,
  + ,
Role
¡¡  
=
¡¡! "
role
¡¡# '
}
¢¢ 
)
¢¢ 
)
¢¢ 
;
¢¢ 
for
¤¤ 
(
¤¤ 
var
¤¤  
order
¤¤! &
=
¤¤' (
$num
¤¤) *
;
¤¤* +
order
¤¤, 1
<
¤¤2 3 
uggItemDataByOrder
¤¤4 F
.
¤¤F G
Count
¤¤G L
;
¤¤L M
order
¤¤N S
++
¤¤S U
)
¤¤U V
{
¥¥ 
var
¦¦ 
uggItemData
¦¦  +
=
¦¦, - 
uggItemDataByOrder
¦¦. @
[
¦¦@ A
order
¦¦A F
]
¦¦F G
;
¦¦G H
itemData
§§ $
.
§§$ %
AddRange
§§% -
(
§§- .
uggItemData
§§. 9
.
§§9 :
Select
§§: @
(
§§@ A
uggItem
§§A H
=>
§§I K
new
§§L O
ItemData
§§P X
{
¨¨ 

ChampionId
©©  *
=
©©+ ,
itemTableData
©©- :
.
©©: ;

ChampionId
©©; E
,
©©E F
ItemId
ªª  &
=
ªª' (
uggItem
ªª) 0
.
ªª0 1
ItemId
ªª1 7
,
ªª7 8
Matches
««  '
=
««( )
uggItem
««* 1
.
««1 2
Matches
««2 9
,
««9 :
Wins
¬¬  $
=
¬¬% &
uggItem
¬¬' .
.
¬¬. /
Wins
¬¬/ 3
,
¬¬3 4
Order
­­  %
=
­­& '
order
­­( -
,
­­- .
Rank
®®  $
=
®®% &
rank
®®' +
,
®®+ ,
Region
¯¯  &
=
¯¯' (
region
¯¯) /
,
¯¯/ 0
Role
°°  $
=
°°% &
role
°°' +
,
°°+ ,
}
±± 
)
±± 
)
±± 
;
±±  
}
²² 
}
³³ 
}
´´ 
}
µµ 
return
·· 
(
·· 
starterSetData
·· "
,
··" #
itemData
··$ ,
)
··, -
;
··- .
}
¸¸ 	
private
ºº 
static
ºº 
List
ºº 
<
ºº 
T
ºº 
>
ºº 
FilterItemData
ºº -
<
ºº- .
T
ºº. /
>
ºº/ 0
(
ºº0 1
List
ºº1 5
<
ºº5 6
T
ºº6 7
>
ºº7 8
data
ºº9 =
)
ºº= >
where
ºº? D
T
ººE F
:
ººG H
	IItemData
ººI R
{
»» 	
var
¼¼ 
regions
¼¼ 
=
¼¼ 
new
¼¼ 
List
¼¼ "
<
¼¼" #
	UggRegion
¼¼# ,
>
¼¼, -
{
¼¼. /
	UggRegion
¼¼/ 8
.
¼¼8 9
Euw1
¼¼9 =
,
¼¼= >
	UggRegion
¼¼? H
.
¼¼H I
Na1
¼¼I L
,
¼¼L M
	UggRegion
¼¼N W
.
¼¼W X
Kr
¼¼X Z
,
¼¼Z [
	UggRegion
¼¼\ e
.
¼¼e f
World
¼¼f k
}
¼¼k l
;
¼¼l m
var
½½ 
ranks
½½ 
=
½½ 
new
½½ 
List
½½  
<
½½  !
UggRank
½½! (
>
½½( )
{
½½* +
UggRank
½½+ 2
.
½½2 3

Challenger
½½3 =
,
½½= >
UggRank
½½? F
.
½½F G
PlatinumPlus
½½G S
,
½½S T
UggRank
½½U \
.
½½\ ]
Overall
½½] d
}
½½d e
;
½½e f
return
¿¿ 
data
¿¿ 
.
¿¿ 
Where
¿¿ 
(
¿¿ 
itemData
¿¿ &
=>
¿¿' )
regions
¿¿* 1
.
¿¿1 2
Contains
¿¿2 :
(
¿¿: ;
itemData
¿¿; C
.
¿¿C D
Region
¿¿D J
)
¿¿J K
&&
¿¿L N
ranks
¿¿O T
.
¿¿T U
Contains
¿¿U ]
(
¿¿] ^
itemData
¿¿^ f
.
¿¿f g
Rank
¿¿g k
)
¿¿k l
)
¿¿m n
.
¿¿n o
ToList
¿¿o u
(
¿¿u v
)
¿¿v w
;
¿¿w x
}
ÀÀ 	
private
ÂÂ 
async
ÂÂ 
Task
ÂÂ 
SaveItemData
ÂÂ '
(
ÂÂ' (
List
ÂÂ( ,
<
ÂÂ, -
ItemData
ÂÂ- 5
>
ÂÂ5 6
itemData
ÂÂ7 ?
)
ÂÂ? @
{
ÃÃ 	
var
ÄÄ 
deleted
ÄÄ 
=
ÄÄ 
await
ÄÄ 
_context
ÄÄ  (
.
ÄÄ( )
Database
ÄÄ) 1
.
ÄÄ1 2 
ExecuteSqlRawAsync
ÄÄ2 D
(
ÄÄD E
$str
ÄÄE \
)
ÄÄ\ ]
;
ÄÄ] ^
_logger
ÆÆ 
.
ÆÆ 
LogInformation
ÆÆ "
(
ÆÆ" #
$str
ÆÆ# K
,
ÆÆK L
deleted
ÆÆM T
)
ÆÆT U
;
ÆÆU V
_context
ÈÈ 
.
ÈÈ 
ItemData
ÈÈ 
.
ÈÈ 
AddRange
ÈÈ &
(
ÈÈ& '
itemData
ÈÈ' /
)
ÈÈ/ 0
;
ÈÈ0 1
await
ÊÊ 
_context
ÊÊ 
.
ÊÊ 
SaveChangesAsync
ÊÊ +
(
ÊÊ+ ,
)
ÊÊ, -
;
ÊÊ- .
_logger
ÌÌ 
.
ÌÌ 
LogInformation
ÌÌ "
(
ÌÌ" #
$str
ÌÌ# I
,
ÌÌI J
itemData
ÌÌK S
.
ÌÌS T
Count
ÌÌT Y
)
ÌÌY Z
;
ÌÌZ [
}
ÍÍ 	
private
ÏÏ 
async
ÏÏ 
Task
ÏÏ  
SaveStarterSetData
ÏÏ -
(
ÏÏ- .
List
ÏÏ. 2
<
ÏÏ2 3
StarterSetData
ÏÏ3 A
>
ÏÏA B
starterSetData
ÏÏC Q
)
ÏÏQ R
{
ÐÐ 	
var
ÑÑ 
deleted
ÑÑ 
=
ÑÑ 
await
ÑÑ 
_context
ÑÑ  (
.
ÑÑ( )
Database
ÑÑ) 1
.
ÑÑ1 2 
ExecuteSqlRawAsync
ÑÑ2 D
(
ÑÑD E
$str
ÑÑE b
)
ÑÑb c
;
ÑÑc d
_logger
ÓÓ 
.
ÓÓ 
LogInformation
ÓÓ "
(
ÓÓ" #
$str
ÓÓ# O
,
ÓÓO P
deleted
ÓÓQ X
)
ÓÓX Y
;
ÓÓY Z
_context
ÕÕ 
.
ÕÕ 
StarterSetData
ÕÕ #
.
ÕÕ# $
AddRange
ÕÕ$ ,
(
ÕÕ, -
starterSetData
ÕÕ- ;
)
ÕÕ; <
;
ÕÕ< =
await
×× 
_context
×× 
.
×× 
SaveChangesAsync
×× +
(
××+ ,
)
××, -
;
××- .
_logger
ÙÙ 
.
ÙÙ 
LogInformation
ÙÙ "
(
ÙÙ" #
$str
ÙÙ# R
,
ÙÙR S
starterSetData
ÙÙT b
.
ÙÙb c
Count
ÙÙc h
)
ÙÙh i
;
ÙÙi j
}
ÚÚ 	
}
ÛÛ 
}ÜÜ  
YC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\Startup.cs
	namespace

 	
LeagueOfItems


 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddDbContext !
<! "
ItemContext" -
>- .
(. /
)/ 0
;0 1
services 
. 
AddHttpClient "
(" #
)# $
;$ %
services 
. 
AddAutoMapper "
(" #
typeof# )
() *
Startup* 1
)1 2
)2 3
;3 4
services 
. 
	AddScoped 
< 
IRiotDataService /
,/ 0
RiotDataService1 @
>@ A
(A B
)B C
;C D
services 
. 
	AddScoped 
< 
IUggDataService .
,. /
UggDataService0 >
>> ?
(? @
)@ A
;A B
services 
. 
	AddScoped 
< 
IItemService +
,+ ,
ItemService- 8
>8 9
(9 :
): ;
;; <
services   
.   
AddControllers   #
(  # $
)  $ %
;  % &
services!! 
.!! 
AddSwaggerGen!! "
(!!" #
c!!# $
=>!!% '
{"" 
c## 
.## 

SwaggerDoc## 
(## 
$str## !
,##! "
new### &
OpenApiInfo##' 2
{##3 4
Title##4 9
=##: ;
$str##< K
,##K L
Version##M T
=##U V
$str##W [
}##[ \
)##\ ]
;##] ^
}$$ 
)$$ 
;$$ 
}%% 	
public(( 
void(( 
	Configure(( 
((( 
IApplicationBuilder(( 1
app((2 5
,((5 6
IWebHostEnvironment((7 J
env((K N
)((N O
{)) 	
if** 
(** 
env** 
.** 
IsDevelopment** !
(**! "
)**" #
)**# $
{++ 
app,, 
.,, %
UseDeveloperExceptionPage,, -
(,,- .
),,. /
;,,/ 0
app-- 
.-- 

UseSwagger-- 
(-- 
)--  
;--  !
app.. 
... 
UseSwaggerUI..  
(..  !
c..! "
=>..# %
c..& '
...' (
SwaggerEndpoint..( 7
(..7 8
$str..8 R
,..R S
$str..T f
)..f g
)..g h
;..h i
}// 
app33 
.33 

UseRouting33 
(33 
)33 
;33 
app55 
.55 
UseAuthorization55  
(55  !
)55! "
;55" #
app77 
.77 
UseEndpoints77 
(77 
	endpoints77 &
=>77' )
{77* +
	endpoints77, 5
.775 6
MapControllers776 D
(77D E
)77E F
;77F G
}77H I
)77I J
;77J K
}88 	
}99 
}:: Õ
jC:\Users\vigov\Documents\Projects\League\league-of-items\backend\LeagueOfItems\ViewModels\ItemViewModel.cs
	namespace 	
LeagueOfItems
 
. 

ViewModels "
{ 
public 

class 
ItemViewModel 
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Colloq 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
	Plaintext 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
Depth 
{ 
get 
; 
set  #
;# $
}% &
public 
List 
< 
ItemData 
> 
ItemData &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
double 
Matches 
{ 
get  #
;# $
set% (
;( )
}* +
public 
double 
Wins 
{ 
get  
;  !
set" %
;% &
}' (
} 
} 